---
layout: post
title: 视点：了解三层交换机中的新兴技术
date: 2010-03-20 01:41
author: admin
comments: true
categories: []
---
三层交换机还是比较常用的，于是我研究了一下三层交换机中的新技术，在这里拿出来和大家分享一下，希望对大家有用。CrossBar(即CrossPoint)被称为交叉开关矩阵或纵横式交换矩阵。它能很好地弥补共享内存模式的一些不足。其优势表现在以下几个方面：首先，CrossBar的实现相对简单。共享交换架构中的线路卡到交换结构的物理连接简化为点到点连接，实现起来更加方便，从而更加容易保证大容量交换机的稳定性。

　　其次，CrossBar内部无阻塞。一个CrossBar的示意图如图所示，只要同时闭合多个交叉节点(CrossPoint)，多个不同的端口就可以同时传输数据。从这个意义上，我们认为所有的CrossBar在内部是无阻塞的，因为它可以支持所有端口同时线速交换数据。

　　在支持CrossBar技术的三层交换机中，一般采用了两类三层交换芯片：一类是可以出千兆、百兆端口的交换芯片;一类是仅仅出内部高速接口(往往是10G以上的速率)的CrossBar芯片，用于各个模块之间的互联。

　　目前思科、Extreme、网捷网络、港湾网络等厂商都推出了基于CrossBar的核心交换机产品，但市场上也有很多内部仍然采用千兆端口互联的产品，主要是面向对性能要求一般、价格比较敏感的用户群体。

　　<strong>基于硬件线速的访问控制</strong>

　　随着网络中用户数量的增多，用户需要对MAC地址、IP地址、TCP/UDP端口号等信息进行控制，从而实现了严格限制局域网资源的访问，同时也用这个功能限制局域网用户对网络设备自身的访问。特别是最近一两年侵占和威胁网络资源的网络病毒的出现，极大地影响了三层交换机的稳定性，通过上述控制功能，在有效控制了用户业务的同时，也有效地保护了自身的安全和可靠性。此时三层交换机也就发展为“智能多层交换机”，主要就是具备了以上的控制功能。这种交换机的交换芯片支持一次处理64字节以上的内容，所以可以直接一次处理以太网帧MAC地址头、IP包头、TCP/UDP包头，从而实现了2～4层的基于硬件线速访问控制。还有一些智能控制功能如802.1X认证协议的支持，通过对RADIUS等AAA协议的扩展，达到对用户更加严格的控制。

　　<strong>端到端QoS技术</strong>

　　ASIC技术的高速发展使低端设备具备强大的QoS能力成为可能，网络的QoS开始从集中保证逐渐向端到端保证过渡。现在，网络边缘设备已经可以根据端口、MAC地址、VLAN信息、IP地址甚至更高层的信息来识别应用类型，为数据包打上优先级标记(如修改IEEE802.1p或IPDiffServ域)，核心设备不用对应用进行识别，只需根据IPDiffServ和IEEE802.1P进行交换，并提供服务质量即可。这种智能的QoS功能也是基于芯片的64字节以上的处理深度发展起来的。

　　<strong>更丰富的协议支持</strong>

　　现在的智能多层交换机除了支持普通的二层协议之外，还支持BGP、IS-IS等丰富的路由协议，以及PIM组播路由协议、VRRP冗余备份协议等多种2～4层的协议。Extreme、港湾等厂商甚至推出了在以太网上支持50ms切换电信级环网技术的相关协议，使得三层交换机可以应用在更加复杂、要求更高的环境中。

　　除了上述一些技术变化之外，三层交换机还支持三层端口汇聚技术、NTP(网络时钟协议)等功能，在这里就不一一详述。随着三层交换及相关技术的发展，三层交换机产品也有了很大的细分，根据功能不同可以分为盒式百兆三层交换机、全千兆盒式三层交换机、机架式模块化三层交换机，以满足不同网络未来的需求
