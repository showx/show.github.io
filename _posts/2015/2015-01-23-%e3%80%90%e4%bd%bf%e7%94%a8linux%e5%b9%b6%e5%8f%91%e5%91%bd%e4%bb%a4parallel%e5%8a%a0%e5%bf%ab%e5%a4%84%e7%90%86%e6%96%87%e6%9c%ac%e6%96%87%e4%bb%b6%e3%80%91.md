---
layout: post
title: 【使用linux并发命令parallel加快处理文本文件】
date: 2015-01-23 10:44
author: admin
comments: true
categories: []
---
<dl id="fontzoom" class="box_body"><dd id="Article">
<h3><strong>1，看到oschina 上面的一篇文章</strong></h3>
如何利用多核CPU来加速你的Linux命令 — awk, sed, bzip2, grep, wc等

http://www.oschina.net/news/45477/use-cpu-cores-linux-commands

系统使用的是Redhat 5

parallel的官网：

http://www.gnu.org/software/parallel/

需要使用opensuse的源进行安装

http://software.opensuse.org/download.<a class="keylink" href="http://www.2cto.com/kf/qianduan/css/" target="_blank">html</a>?project=home%3Atange&amp;package=parallel

对于 CentOS CentOS-6，请以 根用户 root 运行下面命令：
<pre class="brush:java;">cd /etc/yum.repos.d/
wget http://download.opensuse.org/repositories/home:tange/CentOS_CentOS-6/home:tange.repo
yum install parallel</pre>
对于 CentOS CentOS-5，请以 根用户 root 运行下面命令：
<pre class="brush:java;">cd /etc/yum.repos.d/
wget http://download.opensuse.org/repositories/home:tange/CentOS_CentOS-5/home:tange.repo
yum install parallel</pre>
经测试wc -l 命令 发现在cpu数量是4的时候并没有提高计算时间，反而慢了。

<strong>计算1G文件行数，用wc-l花费 1s而使用 parallel后花费 10s</strong>

<strong>对于200MB的文件也是10倍的关系。</strong>
<h3>总结：</h3>
理论和实际使用还是有差别啊。在4cup的机器上面测试一点 优势也没有啊。

基本上要慢个 10倍以上啊。看来要处理大文件，还是hadoop比较靠谱啊。

</dd></dl>&nbsp;
