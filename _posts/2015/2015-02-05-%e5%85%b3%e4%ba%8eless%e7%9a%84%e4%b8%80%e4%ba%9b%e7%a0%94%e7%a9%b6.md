---
layout: post
title: 关于less的一些研究
date: 2015-02-05 10:00
author: admin
comments: true
categories: []
---
1、<strong>Less前言</strong>

&nbsp;

关注<strong>less</strong>很久了，整理和查看了很多相关的资料，此篇作为<strong>less</strong>相关的<strong>开篇</strong>，希望在后期的一些项目里面开始实施起来，但是很多人觉得维护成本比较高，如果对应人员没有相关的知识积累，所有决定写一篇，以后也算less应用项目的一个捆绑资料交接一下。

&nbsp;

&nbsp;

2、<strong>Less是what?</strong>

&nbsp;

--------- <strong>动态样式语言</strong>

&nbsp;
<ul>
	<li> 其实就是将<strong>css变得可以使用动态语言的特性</strong>，如<strong>变量</strong>、<strong>继承</strong>、<strong>运算</strong>、<strong>函数</strong>。</li>
	<li> less可以应用在<strong>客户端</strong>也可以应用在<strong>服务端</strong>（借助一些如Node.js这样的工具）</li>
</ul>
&nbsp;

3、<strong>Less快速适用</strong>

&nbsp;
<ul>
	<li>如果你本地或者像看源码的话，需要下载一个依赖脚本文件：less.js</li>
</ul>
<strong>下载地址</strong>：<a href="http://code.google.com/p/lesscss/downloads/list">http://code.google.com/p/lesscss/downloads/list</a>

&nbsp;
<ul>
	<li>如果你直接连在线的地址可以在html页面的<strong>head标签</strong>里面增加如下代码：</li>
</ul>
<div></div>
<div>
<div id="" class="dp-highlighter">
<div class="bar">
<div class="tools">Html代码 <embed src="http://zhangyaochun.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" type="application/x-shockwave-flash" width="14" height="15"></embed> <a title="收藏这段代码"><img class="star" src="http://zhangyaochun.iteye.com/images/icon_star.png" alt="收藏代码" /></a></div>
</div>
<ol class="dp-xml" start="1">
	<li><span class="tag">&lt;</span><span class="tag-name">script</span> <span class="attribute">src</span>=<span class="attribute-value">"http://lesscss.googlecode.com/files/less-1.3.0.min.js"</span><span class="tag">&gt;</span><span class="tag">&lt;/</span><span class="tag-name">script</span><span class="tag">&gt;</span></li>
</ol>
</div>
</div>
<div></div>
<ul>
	<li>当然我们还需要引入一个我们<strong>写less的文件，以.less为文件的后缀</strong></li>
</ul>
我们就在上面步骤中的<strong>&lt;script&gt;标签的上面</strong>增加如下的代码

&nbsp;

&nbsp;
<div id="" class="dp-highlighter">
<div class="bar">
<div class="tools">Html代码 <embed src="http://zhangyaochun.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" type="application/x-shockwave-flash" width="14" height="15"></embed> <a title="收藏这段代码"><img class="star" src="http://zhangyaochun.iteye.com/images/icon_star.png" alt="收藏代码" /></a></div>
</div>
<ol class="dp-xml" start="1">
	<li></li>
	<li><span class="comments">&lt;!-- 方式和css的导入是一样的 --&gt;</span></li>
	<li><span class="tag">&lt;</span><span class="tag-name">link</span> <span class="attribute">rel</span>=<span class="attribute-value">"stylesheet/less"</span> <span class="attribute">href</span>=<span class="attribute-value">"style.less"</span> <span class="attribute">type</span>=<span class="attribute-value">"text/css"</span> <span class="tag">/&gt;</span></li>
</ol>
</div>
&nbsp;

<strong>注意一下rel的值：stylesheet/less</strong>

&nbsp;

这边我来贴一些<strong>源码</strong>，看看为什么必须要按照这样的规则来：

&nbsp;

&nbsp;
<div id="" class="dp-highlighter">
<div class="bar">
<div class="tools">Js代码 <embed src="http://zhangyaochun.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" type="application/x-shockwave-flash" width="14" height="15"></embed> <a title="收藏这段代码"><img class="star" src="http://zhangyaochun.iteye.com/images/icon_star.png" alt="收藏代码" /></a></div>
</div>
<ol class="dp-c" start="1">
	<li><span class="keyword">var</span> links = document.getElementsByTagName(<span class="string">'link'</span>);</li>
	<li><span class="keyword">var</span> typePattern = /^text/(x-)?less$/;</li>
	<li></li>
	<li>less.sheets = [];</li>
	<li></li>
	<li><span class="keyword">for</span>(<span class="keyword">var</span> i=0;i&lt;links.length;i++){</li>
	<li>    <span class="keyword">if</span>(links[i].rel === <span class="string">'stylesheet/less'</span> || (links[i].rel.match(/stylesheet/)</li>
	<li>         &amp;&amp; (links[i].type.match(typePattern)))  ){</li>
	<li>          less.sheets.push(links[i]);</li>
	<li>    }</li>
	<li>}</li>
</ol>
</div>
&nbsp;

&nbsp;
<ul>
	<li><strong>变量</strong>：</li>
</ul>
<div>        允许我们定义一些比较<strong>通用的样式规则</strong></div>
<div></div>
<div>
<div id="" class="dp-highlighter">
<div class="bar">
<div class="tools">Css代码 <embed src="http://zhangyaochun.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" type="application/x-shockwave-flash" width="14" height="15"></embed> <a title="收藏这段代码"><img class="star" src="http://zhangyaochun.iteye.com/images/icon_star.png" alt="收藏代码" /></a></div>
</div>
<ol class="dp-default" start="1">
	<li>/*less code*/</li>
	<li>@width:960px;</li>
	<li>.header{</li>
	<li>    width:@width;</li>
	<li>}</li>
	<li>.footer{</li>
	<li>    width:@width;</li>
	<li>}</li>
	<li></li>
	<li></li>
	<li>/*css code*/</li>
	<li>.header{</li>
	<li>    width:960px;</li>
	<li>}</li>
	<li>.footer{</li>
	<li>    width:960px;</li>
	<li>}</li>
</ol>
</div>
</div>
<div></div>
<div>    其实我们可以发现：<strong>less中的变量只能被定义一次，前面定义的会被后面覆盖</strong>。</div>
<div></div>
<div>
<div id="" class="dp-highlighter">
<div class="bar">
<div class="tools">Java代码 <embed src="http://zhangyaochun.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" type="application/x-shockwave-flash" width="14" height="15"></embed> <a title="收藏这段代码"><img class="star" src="http://zhangyaochun.iteye.com/images/icon_star.png" alt="收藏代码" /></a></div>
</div>
<ol class="dp-j" start="1">
	<li><span class="comment">/*我同时定义@h*/</span></li>
	<li><span class="annotation">@h</span>:30px;</li>
	<li><span class="annotation">@h</span>:100px;</li>
	<li>.header{</li>
	<li>    height:<span class="annotation">@h</span>;</li>
	<li>}</li>
	<li></li>
	<li></li>
	<li><span class="comment">/*输出的css*/</span></li>
	<li>.header{</li>
	<li>   height:100px;</li>
	<li>}</li>
</ol>
</div>
</div>
同时在less中，也有类似于php语言中<strong>变量的变量</strong>的概念。

&nbsp;

&nbsp;
<div id="" class="dp-highlighter">
<div class="bar">
<div class="tools">Csss代码 <embed src="http://zhangyaochun.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" type="application/x-shockwave-flash" width="14" height="15"></embed> <a title="收藏这段代码"><img class="star" src="http://zhangyaochun.iteye.com/images/icon_star.png" alt="收藏代码" /></a></div>
</div>
<ol class="dp-default" start="1">
	<li>//当然变量能够参与计算</li>
	<li>@base-h:50px;</li>
	<li>@height1:@base-h+100px;</li>
	<li>@height2:@base-h+200px;</li>
	<li></li>
	<li>.header{</li>
	<li>    height:@height2;</li>
	<li>}</li>
	<li></li>
	<li>/*转换的css*/</li>
	<li>.header{</li>
	<li>    height:250px;</li>
	<li>}</li>
	<li></li>
	<li></li>
	<li></li>
	<li>//或者可以这样写---但是好像不能做计算</li>
	<li>@base-h:50px;</li>
	<li>@height1:<span class="string">"base-h"</span>;</li>
	<li>.header{</li>
	<li>    height:@@height1;  //注意是两个@@</li>
	<li>}</li>
</ol>
</div>
&nbsp;

&nbsp;

&nbsp;
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div>
<ul>
	<li><strong>混入(Mixin)</strong></li>
</ul>
<div>     ------ <strong>参数可以定义默认值，也可以不定义</strong></div>
<div></div>
<div>
<div id="" class="dp-highlighter">
<div class="bar">
<div class="tools">Css代码 <embed src="http://zhangyaochun.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" type="application/x-shockwave-flash" width="14" height="15"></embed> <a title="收藏这段代码"><img class="star" src="http://zhangyaochun.iteye.com/images/icon_star.png" alt="收藏代码" /></a></div>
</div>
<ol class="dp-default" start="1">
	<li>/*可以带参数*/</li>
	<li>.radius(@radius:3px){</li>
	<li>     border-radius:@radius;</li>
	<li>     -webkit-border-radius:@radius;</li>
	<li>     -moz-border-radius:@radius;</li>
	<li>}</li>
	<li></li>
	<li>.header{</li>
	<li>    .radius;</li>
	<li>}</li>
	<li>.footer{</li>
	<li>    .radius(5px);</li>
	<li>}</li>
	<li></li>
	<li></li>
	<li>/*转成的css*/</li>
	<li>.header{</li>
	<li>     border-radius:3px</li>
	<li>     -webkit-border-radius:3px;</li>
	<li>     -moz-border-radius:3px;</li>
	<li>}</li>
	<li>.footer{</li>
	<li>     border-radius:5px</li>
	<li>     -webkit-border-radius:5px;</li>
	<li>     -moz-border-radius:5px;</li>
	<li>}</li>
</ol>
</div>
</div>
<div><strong>     </strong>这里面还有一个（类似于数组的）<strong>@</strong><strong>arguments 变量</strong></div>
<div></div>
<div>
<div id="" class="dp-highlighter">
<div class="bar">
<div class="tools">Css代码 <embed src="http://zhangyaochun.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" type="application/x-shockwave-flash" width="14" height="15"></embed> <a title="收藏这段代码"><img class="star" src="http://zhangyaochun.iteye.com/images/icon_star.png" alt="收藏代码" /></a></div>
</div>
<ol class="dp-default" start="1">
	<li></li>
	<li>.box-shadow(@x:2px,@y:2px,@blur:1px,@color:#<span class="number">000</span>){</li>
	<li>    box-shadow:@arguments;</li>
	<li>    -moz-box-shadow:@arguments;</li>
	<li>    -webkit-box-shadow:@arguments;</li>
	<li>}</li>
	<li></li>
	<li>.header{</li>
	<li>    .box-shadow(4px;3px;1px;#fefefe);</li>
	<li>}</li>
	<li></li>
	<li></li>
	<li>/*转换后的*/</li>
	<li>.header{</li>
	<li>    box-shadow:4px;3px;1px;#fefefe;</li>
	<li>    -moz-box-shadow:4px;3px;1px;#fefefe;</li>
	<li>    -webkit-box-shadow:4px;3px;1px;#fefefe;</li>
	<li>}</li>
</ol>
</div>
</div>
</div>
