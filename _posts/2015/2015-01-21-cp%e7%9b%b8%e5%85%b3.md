---
layout: post
title: cp相关
date: 2015-01-21 13:27
author: admin
comments: true
categories: []
---
今天在使用命令cp复制文件时，由于文件数量特别多，导致它返回如下错误：
bash: /bin/cp: Argument list too long
以前在尝试使用mv命令时也遇到过类似的问题，参见<a href="http://tilt.lib.tsinghua.edu.cn/node/173">Linux下归档一年前的文件</a>。当时使用find和xargs命令完成任务，不过由于时间较长，具体的用法已经忘记了，所以又google了一回，也不是没有收获，找到如下内容：
<a href="http://ubuntuforums.org/showthread.php?t=56421">http://ubuntuforums.org/showthread.php?t=56421</a>
其中有二种方法值得参考。一种是
find /media/nethd/Sound -type f --maxdepth 1 -print0 | xargs -0 cp --target-directory=/media/Sound
这种方法同样使用find和xargs命令组合，但是我从中学习到了以前没有用过的用法。其中-type f表示只查找文件，这样将会忽略目录，--maxdepth 1表示只查找指定目录，不包括其子目录，-print0则指定在文件名称后面打印一个null字符，以解决文件名中包含换行字符的问题。与之相对应，xargs命令的-0参数指定文件名以null字符结尾。另外，cp命令还支持使用--target-directory参数指定目的目录，当然mv命令也支持这个参数。
另一种方法是
find /media/nethd/Sound/ -iname '*.mp3' -exec cp \{\} /media/Sound/
这种方法使用find命令的-exec参数来解决问题。
由于时间关系，这一次只验证了前一种方法，后一种方法没有进行实际的验证，但按照这个思路应该没有太大问题。

&nbsp;

&nbsp;

=====

&nbsp;

&nbsp;

&nbsp;

find是个使用频率比较高的命令。常常用它在系统特定目录下，查找具有某种特征【名字类型属主权限等】的文件。
find命令的格式： find  [-path ..] -options [-print -exec -ok]
<blockquote>path：要查找的目录路径。</blockquote>
<blockquote>
<blockquote>~ 表示$HOME目录</blockquote>
<blockquote>. 表示当前目录</blockquote>
<blockquote>/ 表示根目录</blockquote>
</blockquote>
<blockquote>-print ：表示将结果输出到标准输出
-exec ：对匹配的文件执行该参数所给出的shell命令。形式为 command  {} \; ，注意{}与\; 之间有空格
-ok ：与-exec作用相同，区别在于，在执行命令之前，都会给出提示，让用户确认是否执行</blockquote>
&nbsp;
<blockquote>options常用的有下选项：
<blockquote>-name 按照名字查找</blockquote>
<blockquote>-perm 安装权限查找</blockquote>
<blockquote>-prune 不再当前指定的目录下查找</blockquote>
<blockquote>-user 文件属主来查找</blockquote>
<blockquote>-group 所属组来查找</blockquote>
<blockquote>-nogroup 查找无有效所属组的文件</blockquote>
<blockquote>-nouser 查找无有效属主的文件</blockquote>
<blockquote>-type 按照文件类型查找</blockquote>
</blockquote>
下面通过一些简单的例子来介绍下find的常规用法：

1、按名字查找

在当前目录及子目录中，查找大写字母开头的txt文件
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_1" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_1"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost ~]# find . -name '[A-Z]*.txt' -print</li>
</ol>
</div>
在/etc及其子目录中，查找host开头的文件
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_2" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_2"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost ~]# find /etc -name 'host*' -print</li>
</ol>
</div>
在$HOME目录及其子目录中，查找所有文件
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_3" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_3"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost ~]# find ~ -name '*' -print</li>
</ol>
</div>
在当前目录及子目录中，查找不是out开头的txt文件
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_4" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_4"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost .code]# find . -name "out*" -prune -o -name "*.txt" -print</li>
</ol>
</div>
&nbsp;

2、按目录查找

在当前目录除aa之外的子目录内搜索 txt文件
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_5" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_5"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost .code]# find . -path "./aa" -prune -o -name "*.txt" -print</li>
</ol>
</div>
在当前目录及除aa和bb之外的子目录中查找txt文件
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_6" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_6"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost .code]# find . \( -path "./aa" -o -path "./bb" \) -prune -o -name "*.txt" -print</li>
</ol>
</div>
在当前目录，不再子目录中，查找txt文件
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_7" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_7"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost .code]# find .  ! -name "." -type d -prune -o -type f -name "*.txt" -print</li>
</ol>
</div>
3、按权限查找

在当前目录及子目录中，查找属主具有读写执行，其他具有读执行权限的文件
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_8" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_8"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost ~]# find . -perm 755 -print</li>
</ol>
</div>
4、按类型查找

在当前目录及子目录下，查找符号链接文件
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_9" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_9"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost .code]# find . -type l -print</li>
</ol>
</div>
5、按属主及属组

查找属主是www的文件
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_10" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_10"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost .code]# find / -user www -type f -print</li>
</ol>
</div>
查找属主被删除的文件
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_11" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_11"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost .code]# find /  -nouser -type f -print</li>
</ol>
</div>
查找属组mysql的文件
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_12" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_12"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost .code]# find /  -group mysql -type f  -print</li>
</ol>
</div>
查找用户组被删掉的文件
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_13" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_13"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost .code]# find /  -nogroup -type f  -print</li>
</ol>
</div>
6、按时间查找

查找2天内被更改过的文件
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_14" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_14"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost .code]# find . -mtime -2 -type f -print</li>
</ol>
</div>
查找2天前被更改过的文件
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_15" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_15"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost .code]# find . -mtime +2 -type f -print</li>
</ol>
</div>
查找一天内被访问的文件
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_16" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_16"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost .code]# find . -atime -1 -type f -print</li>
</ol>
</div>
查找一天前被访问的文件
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_17" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_17"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost .code]# find . -atime +1 -type f -print</li>
</ol>
</div>
查找一天内状态被改变的文件
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_18" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_18"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost .code]# find . -ctime -1 -type f -print</li>
</ol>
</div>
查找一天前状态被改变的文件
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_19" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_19"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost .code]# find . -ctime +1 -type f -print</li>
</ol>
</div>
查找10分钟以前状态被改变的文件
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_20" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_20"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost .code]# find . -cmin +10 -type f -print</li>
</ol>
</div>
7、按文件新旧

查找比aa.txt新的文件
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_21" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_21"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost .code]# find . -newer "aa.txt"  -type f -print</li>
</ol>
</div>
查找比aa.txt旧的文件
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_22" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_22"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost .code]# find . ! -newer "aa.txt"  -type f -print</li>
</ol>
</div>
查找比aa.txt新，比bb.txt旧的文件
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_23" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_23"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost .code]# find . -newer 'aa.txt' ! -newer 'bb.txt' -type f -print</li>
</ol>
</div>
8、按大小查找

查找超过1M的文件
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_24" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_24"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost .code]# find / -size +1M -type f -print</li>
</ol>
</div>
查找等于6字节的文件
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_25" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_25"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost .code]# find . -size 6c -print</li>
</ol>
</div>
查找小于32k的文件
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_26" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_26"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost .code]# find . -size -32k -print</li>
</ol>
</div>
9、执行命令

查找del.txt并删除，删除前提示确认
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_27" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_27"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost .code]# find . -name 'del.txt' -ok rm {} \;</li>
</ol>
</div>
查找aa.txt 并备份为aa.txt.bak
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_28" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_28"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">[root@localhost .code]# find . -name 'aa.txt' -exec cp {} {}.bak \;</li>
</ol>
</div>
查找aa.txt 归档压缩为aa.txt.tar.gz 并删除aa.txt
<div class="dp-highlighter bg_plain">
<div class="bar">
<div class="tools"><b>[plain]</b> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/love__coder/article/details/7028714#">view plain</a><a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/love__coder/article/details/7028714#">copy</a>
<div><embed id="ZeroClipboardMovie_29" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" type="application/x-shockwave-flash" width="18" height="18" align="middle" name="ZeroClipboardMovie_29"></embed></div>
</div>
</div>
<ol start="1">
	<li class="alt">find . -name "aa.txt" -type f -exec tar -zcvf {}.tar.gz {} \; -exec rm -rf {} \; &gt; /dev/null</li>
</ol>
&nbsp;

===
<div>Linux的find与exec结合，功能强大</div>
<div>例子：</div>
<div>
<div>find . -name "*aa*" -exec cp -r {} destpath \;</div>
<div>解释：这个命令会把所有名字包含aa的文件拷贝到destpath目录下</div>
<div>用法：</div>
<div>
<div>find . -name "*something*" -exec action {} somearguments \;</div>
<div>详细解释</div>
<div>find . -name "*something*"  找出所有名字包含something的文件</div>
<div>-exec 执行后面的命令， action 某个命令名，就是例子中的cp， {}是find的结果集合，</div>
<div>somearguments ， 命令需要的参数，就是例子中的-r，   \; 结束命令</div>
<div></div>
<div>===</div>
<div>
<pre id="best-content-1465918665" class="best-text mb-10">一般我们使用的命令是cp -rf sourcefile targetdir或cp -r -f sourcefile
targetdir，
-r的意思是递归复制，也就是复制文件夹及其下所有文件
-f的意思是遇到同名的文件，不提示，直接覆盖
这是因为，系统在安装的时候使用了别名，防止我们误操作，覆盖了不该覆盖的文件。使用别名命令就可以看到具体的配置了。
[test@Server home]# alias
alias cp='cp -i'
alias l.='ls -d .* --color=tty'
alias ll='ls -l --color=tty'
alias ls='ls --color=tty'
alias mv='mv -i'
alias rm='rm -i'
alias which='alias | /usr/bin/which --tty-only --read-alias
--show-dot --show-tilde'
从上边我们可以看出，我们输入的cp命令，其实是“cp -i”命令，
从上边的命令我们可以知道，其他几个命令，也使用了别名，例如ll，ls mv，rm等。
[test@Server home]# vi ~/.bashrc# .bashrc# User specific aliases and functions
alias rm='rm -i'
alias cp='cp -i'
alias mv='mv -i'
# Source global definitions
if [ -f /etc/bashrc ]; then
. /etc/bashrcfi
只要在相应的命令前加#号，就可以注释掉该命令了。保存退出，然后你就可以用纯粹的原命令了。
其实还有一种办法可以解决这个问题，就是使用 \cp -f file dir 就可以了！</pre>
</div>
</div>
</div>
</div>
