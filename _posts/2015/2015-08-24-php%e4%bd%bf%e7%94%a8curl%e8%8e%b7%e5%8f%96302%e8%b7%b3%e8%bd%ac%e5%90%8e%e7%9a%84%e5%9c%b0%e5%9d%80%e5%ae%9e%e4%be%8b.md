---
layout: post
title: PHP使用CURL获取302跳转后的地址实例
date: 2015-08-24 16:11
author: admin
comments: true
categories: []
---
这篇文章主要介绍了PHP使用CURL获取302跳转后的地址实例,需要的朋友可以参考下

直接上代码：

代码如下:

/*返回一个302地址*/

function curl_post_302($url, $vars) {

$ch = curl_init();

curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);

curl_setopt($ch, CURLOPT_URL, $url);

curl_setopt($ch, CURLOPT_POST, 1);

curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1); // 302 redirect

curl_setopt($ch, CURLOPT_POSTFIELDS, $vars);

$data = curl_exec($ch);

$Headers = curl_getinfo($ch);

curl_close($ch);

if ($data != $Headers)

return $Headers["url"];

else

return false;

}

上面的这个curl_post_302 函数可以直接取到302跳转地址了.
