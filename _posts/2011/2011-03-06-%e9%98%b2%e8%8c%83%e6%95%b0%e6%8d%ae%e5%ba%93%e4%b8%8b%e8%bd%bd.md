---
layout: post
title: 防范数据库下载
date: 2011-03-06 10:39
author: admin
comments: true
categories: []
---
方法一:修改数据库文件名和路径.


注意:同时要修改conn.asp的相应路径.

缺点: 如果有列网站目录权限,还可以找到数据库路径,然后下载下来研究的.


方法二:数据库名后缀改为ASA、ASP等

注意:也要在conn.asp中修改相应的数据库名.


方法三:数据库名前加“#”

注意:需要把数据库文件前名加上#、然后修改数据库连接文件（如conn.asp）中的数据库地.

缺点:如果知道了数据库的绝对地址,可以把# 改成%23 还是可以下载下来研究的.
当然以上三种方法综合起来安全性相对更高一些.


方法四:数据库放在WEB目录外

操作:假如你的web目录是D:\web ,可以把数据库放到D:\data这个文

件夹里,然后在D:\web 里的数据库连接页面中修改数据库连接地址为："../data/数据库名" 的形式.这样数据库可以正常调用,但数据库无法下载.因为它不在WEB目录里

缺点:适合有服务器控制权的用户,不适合购买虚拟空间的用户.



方法五:添加数据库名的如MDB的扩展映射防下载(推荐)

实现方法:

我们在IIS属性---主目录---配置---映射---应用程序扩展那里添加.mdb文件的应用解析。注意这里的选择的DLL(或EXE等)也不是任意的，选择不当，MDB文件还是可以被下载的,注意不要选择asp.dll等。你可以自己多测试下,然后下载一下试试,一直不能下载mdb为止.

注:至于选择的解析文件大家可以自已测试，只要访问数据库时出现无法找到该页就可以了.

优点:
只要修改一处,整个站点的数据库都可以防止被下载。不用修改代码就算暴露目标数据库地址也可以防止下载。

缺点:这个方法就是通过修改IIS设置来实现，所以要有IIS控制权的朋友才行，不适合购买虚拟主机用户.

