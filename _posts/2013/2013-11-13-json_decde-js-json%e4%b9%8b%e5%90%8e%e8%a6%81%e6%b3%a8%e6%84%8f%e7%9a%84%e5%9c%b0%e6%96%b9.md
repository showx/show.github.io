---
layout: post
title: json_decde js json之后要注意的地方 
date: 2013-11-13 16:06
author: admin
comments: true
categories: []
---
js json 双引号之后 ，部分需要stripslashes, 不然针对\转义字作json_decode转义不了

'\u5317\u4EAC'

\'\\u5317\\u4EAC\'  或这个可能先用文件编辑成这样。

另一种情况，JSON{}里面出现" adfadfa""sdfasdf"这种情况，要把里面的”“转义一下。例如以下代码：

if(preg_match('/\".*\":/', $a))
{
$a = preg_replace('/([{,])(\\\")(\w+)(\\\"):/isU', '$1"$3":', $a);
$a = preg_replace('/:(\\\")(\\\")([}|,])/isU', ':""$3', $a);
$a = preg_replace('/:(\\\")(.*)(\\\")([}|,])/isU', ':"$2"$4', $a);
$a = str_replace("\'", "'", $a);
}
