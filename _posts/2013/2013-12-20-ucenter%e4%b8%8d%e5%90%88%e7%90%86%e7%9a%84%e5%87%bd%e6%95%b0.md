---
layout: post
title: ucenter不合理的函数
date: 2013-12-20 16:50
author: admin
comments: true
categories: []
---
这几天弄uchome和ucenter发现
//同步登录  2012-7-7  这里有问题
	if($_SCONFIG['uc_status']) {
		include_once S_ROOT.'./uc_client/client.php';
		$ucsynlogin = uc_user_synlogin($_SGLOBAL['supe_uid']);
		echo($ucsynlogin);
	} else {
		$ucsynlogin = '';
	}
在这个函数上发生403
Forbidden

You don't have permission to access /my/ucenter/index.php on this server.

详细查看之下是：uc_fopen2和uc_fopen的ip优先原则, so ip一般不要填，由域名解释即可。
如果ip不为空即 fsockopen先建立ip...
ucenter和uch部缓存都是记文件，改了东西，最好更新一下。
