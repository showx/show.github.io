---
layout: post
title: js时间格式化
date: 2013-10-29 16:32
author: admin
comments: true
categories: []
---
提取了一下百度的js，时间格式化，参考如下：

&lt;script language="javascript"&gt;
var T, vali = T = vali || {
version: "1.5.1"
};
vali.fn = vali.fn || {};
vali.fn.blank = function() {};

vali.date = vali.date || {};

vali.number = vali.number || {};
vali.number.pad = function(d, c) {
var f = "",
b = (d &lt; 0),
a = String(Math.abs(d));
if (a.length &lt; c) {
f = (new Array(c - a.length + 1)).join("0")
}
return (b ? "-": "") + f + a
};
vali.date.format = function(a, g) {
if ("string" != typeof g) {
return a.toString()
}
function d(n, m) {
g = g.replace(n, m)
}
var b = vali.number.pad,
h = a.getFullYear(),
f = a.getMonth() + 1,
l = a.getDate(),
j = a.getHours(),
c = a.getMinutes(),
k = a.getSeconds();
d(/yyyy/g, b(h, 4));
d(/yy/g, b(parseInt(h.toString().slice(2), 10), 2));
d(/MM/g, b(f, 2));
d(/M/g, f);
d(/dd/g, b(l, 2));
d(/d/g, l);
d(/HH/g, b(j, 2));
d(/H/g, j);
d(/hh/g, b(j % 12, 2));
d(/h/g, j % 12);
d(/mm/g, b(c, 2));
d(/m/g, c);
d(/ss/g, b(k, 2));
d(/s/g, k);
return g
};
&lt;/script&gt;

例如时间是bbtime，普通的timestamp..，调下为调用格式。

dat = vali.date.format(new Date(bbtime * 1000), "yyyy-MM-dd HH:mm");

&nbsp;
