---
layout: post
title: catfan/medoo轻量级的PHP数据库框架, 提高开发效率！
date: 2017-09-21 14:23
author: admin
comments: true
categories: [Uncategorized]
---
<ol class="linenums">
 	<li class="L6"><span class="com">// 初始化配置</span></li>
 	<li class="L7"><span class="pln">$database </span><span class="pun">=</span> <span class="kwd">new</span><span class="pln"> medoo</span><span class="pun">([</span></li>
 	<li class="L8"><span class="str">'database_type'</span> <span class="pun">=&gt;</span> <span class="str">'mysql'</span><span class="pun">,</span></li>
 	<li class="L9"><span class="str">'database_name'</span> <span class="pun">=&gt;</span> <span class="str">'name'</span><span class="pun">,</span></li>
 	<li class="L0"><span class="str">'server'</span> <span class="pun">=&gt;</span> <span class="str">'localhost'</span><span class="pun">,</span></li>
 	<li class="L1"><span class="str">'username'</span> <span class="pun">=&gt;</span> <span class="str">'your_username'</span><span class="pun">,</span></li>
 	<li class="L2"><span class="str">'password'</span> <span class="pun">=&gt;</span> <span class="str">'your_password'</span><span class="pun">,</span></li>
 	<li class="L3"><span class="str">'charset'</span> <span class="pun">=&gt;</span> <span class="str">'utf8'</span></li>
 	<li class="L4"><span class="pun">]);</span></li>
 	<li class="L5"><span class="pln"> </span></li>
 	<li class="L6"><span class="com">// 插入数据示例</span></li>
 	<li class="L7"><span class="pln">$database</span><span class="pun">-&gt;</span><span class="pln">insert</span><span class="pun">(</span><span class="str">'account'</span><span class="pun">,</span> <span class="pun">[</span></li>
 	<li class="L8"><span class="str">'user_name'</span> <span class="pun">=&gt;</span> <span class="str">'foo'</span><span class="pun">,</span></li>
 	<li class="L9"><span class="str">'email'</span> <span class="pun">=&gt;</span> <span class="str">'foo@bar.com'</span><span class="pun">,</span></li>
 	<li class="L0"><span class="str">'age'</span> <span class="pun">=&gt;</span> <span class="lit">25</span><span class="pun">,</span></li>
 	<li class="L1"><span class="str">'lang'</span> <span class="pun">=&gt;</span> <span class="pun">[</span><span class="str">'en'</span><span class="pun">,</span> <span class="str">'fr'</span><span class="pun">,</span> <span class="str">'jp'</span><span class="pun">,</span> <span class="str">'cn'</span><span class="pun">]</span></li>
 	<li class="L2"><span class="pun">]);</span></li>
</ol>
&nbsp;
<ol class="linenums">
 	<li class="L1"><span class="pln">$database </span><span class="pun">=</span> <span class="kwd">new</span><span class="pln"> medoo</span><span class="pun">([</span></li>
 	<li class="L2"><span class="com">// 必须配置项</span></li>
 	<li class="L3"><span class="str">'database_type'</span> <span class="pun">=&gt;</span> <span class="str">'mysql'</span><span class="pun">,</span></li>
 	<li class="L4"><span class="str">'database_name'</span> <span class="pun">=&gt;</span> <span class="str">'name'</span><span class="pun">,</span></li>
 	<li class="L5"><span class="str">'server'</span> <span class="pun">=&gt;</span> <span class="str">'localhost'</span><span class="pun">,</span></li>
 	<li class="L6"><span class="str">'username'</span> <span class="pun">=&gt;</span> <span class="str">'your_username'</span><span class="pun">,</span></li>
 	<li class="L7"><span class="str">'password'</span> <span class="pun">=&gt;</span> <span class="str">'your_password'</span><span class="pun">,</span></li>
 	<li class="L8"><span class="str">'charset'</span> <span class="pun">=&gt;</span> <span class="str">'utf8'</span><span class="pun">,</span></li>
 	<li class="L9"><span class="pln"> </span></li>
 	<li class="L0"><span class="com">// 可选参数</span></li>
 	<li class="L1"><span class="str">'port'</span> <span class="pun">=&gt;</span> <span class="lit">3306</span><span class="pun">,</span></li>
 	<li class="L2"><span class="pln"> </span></li>
 	<li class="L3"><span class="com">// 可选，定义表的前缀</span></li>
 	<li class="L4"><span class="str">'prefix'</span> <span class="pun">=&gt;</span> <span class="str">'PREFIX_'</span><span class="pun">,</span></li>
 	<li class="L5"><span class="pln"> </span></li>
 	<li class="L6"><span class="com">// 连接参数扩展, 更多参考 http://www.php.net/manual/en/pdo.setattribute.php</span></li>
 	<li class="L7"><span class="str">'option'</span> <span class="pun">=&gt;</span> <span class="pun">[</span></li>
 	<li class="L8"><span class="pln"> PDO</span><span class="pun">::</span><span class="pln">ATTR_CASE </span><span class="pun">=&gt;</span><span class="pln"> PDO</span><span class="pun">::</span><span class="pln">CASE_NATURAL</span></li>
 	<li class="L9"><span class="pun">]</span></li>
 	<li class="L0"><span class="pun">]);</span></li>
 	<li class="L1"><span class="pln"> </span></li>
 	<li class="L2"><span class="pln">$database</span><span class="pun">-&gt;</span><span class="pln">insert</span><span class="pun">(</span><span class="str">"account"</span><span class="pun">,</span> <span class="pun">[</span></li>
 	<li class="L3"><span class="str">"user_name"</span> <span class="pun">=&gt;</span> <span class="str">"foo"</span><span class="pun">,</span></li>
 	<li class="L4"><span class="str">"email"</span> <span class="pun">=&gt;</span> <span class="str">"foo@bar.com"</span></li>
 	<li class="L5"><span class="pun">]);</span></li>
</ol>
mysql:
<ol class="linenums">
 	<li class="L1"><span class="pln">$database </span><span class="pun">=</span> <span class="kwd">new</span><span class="pln"> medoo</span><span class="pun">([</span></li>
 	<li class="L2"><span class="com">// 必须配置项</span></li>
 	<li class="L3"><span class="str">'database_type'</span> <span class="pun">=&gt;</span> <span class="str">'mysql'</span><span class="pun">,</span></li>
 	<li class="L4"><span class="str">'database_name'</span> <span class="pun">=&gt;</span> <span class="str">'name'</span><span class="pun">,</span></li>
 	<li class="L5"><span class="str">'server'</span> <span class="pun">=&gt;</span> <span class="str">'localhost'</span><span class="pun">,</span></li>
 	<li class="L6"><span class="str">'username'</span> <span class="pun">=&gt;</span> <span class="str">'your_username'</span><span class="pun">,</span></li>
 	<li class="L7"><span class="str">'password'</span> <span class="pun">=&gt;</span> <span class="str">'your_password'</span><span class="pun">,</span></li>
 	<li class="L8"><span class="str">'charset'</span> <span class="pun">=&gt;</span> <span class="str">'utf8'</span><span class="pun">,</span></li>
 	<li class="L9"><span class="pln"> </span></li>
 	<li class="L0"><span class="com">// 可选参数</span></li>
 	<li class="L1"><span class="str">'port'</span> <span class="pun">=&gt;</span> <span class="lit">3306</span><span class="pun">,</span></li>
 	<li class="L2"><span class="pln"> </span></li>
 	<li class="L3"><span class="com">// 可选，定义表的前缀</span></li>
 	<li class="L4"><span class="str">'prefix'</span> <span class="pun">=&gt;</span> <span class="str">'PREFIX_'</span><span class="pun">,</span></li>
 	<li class="L5"><span class="pln"> </span></li>
 	<li class="L6"><span class="com">// 连接参数扩展, 更多参考 http://www.php.net/manual/en/pdo.setattribute.php</span></li>
 	<li class="L7"><span class="str">'option'</span> <span class="pun">=&gt;</span> <span class="pun">[</span></li>
 	<li class="L8"><span class="pln"> PDO</span><span class="pun">::</span><span class="pln">ATTR_CASE </span><span class="pun">=&gt;</span><span class="pln"> PDO</span><span class="pun">::</span><span class="pln">CASE_NATURAL</span></li>
 	<li class="L9"><span class="pun">]</span></li>
 	<li class="L0"><span class="pun">]);</span></li>
 	<li class="L1"><span class="pln"> </span></li>
 	<li class="L2"><span class="pln">$database</span><span class="pun">-&gt;</span><span class="pln">insert</span><span class="pun">(</span><span class="str">"account"</span><span class="pun">,</span> <span class="pun">[</span></li>
 	<li class="L3"><span class="str">"user_name"</span> <span class="pun">=&gt;</span> <span class="str">"foo"</span><span class="pun">,</span></li>
 	<li class="L4"><span class="str">"email"</span> <span class="pun">=&gt;</span> <span class="str">"foo@bar.com"</span></li>
 	<li class="L5"><span class="pun">]);</span></li>
</ol>
&nbsp;

sqlite:
<ol class="linenums">
 	<li class="L0"><span class="pln">$database </span><span class="pun">=</span> <span class="kwd">new</span><span class="pln"> medoo</span><span class="pun">([</span></li>
 	<li class="L1"><span class="str">'database_type'</span> <span class="pun">=&gt;</span> <span class="str">'sqlite'</span><span class="pun">,</span></li>
 	<li class="L2"><span class="str">'database_file'</span> <span class="pun">=&gt;</span> <span class="str">'my/database/path/database.db'</span></li>
 	<li class="L3"><span class="pun">]);</span></li>
 	<li class="L4"><span class="pln"> </span></li>
 	<li class="L5"><span class="pln">$database</span><span class="pun">-&gt;</span><span class="pln">insert</span><span class="pun">(</span><span class="str">"account"</span><span class="pun">,</span> <span class="pun">[</span></li>
 	<li class="L6"><span class="str">"user_name"</span> <span class="pun">=&gt;</span> <span class="str">"foo"</span><span class="pun">,</span></li>
 	<li class="L7"><span class="str">"email"</span> <span class="pun">=&gt;</span> <span class="str">"foo@bar.com"</span></li>
 	<li class="L8"><span class="pun">]);</span></li>
</ol>
