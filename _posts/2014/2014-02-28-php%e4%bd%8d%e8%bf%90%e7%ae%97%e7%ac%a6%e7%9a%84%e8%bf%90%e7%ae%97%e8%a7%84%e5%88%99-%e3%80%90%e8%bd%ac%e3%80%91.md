---
layout: post
title: PHP位运算符的运算规则  【转】
date: 2014-02-28 16:08
author: admin
comments: true
categories: []
---
&nbsp;

发现网上关于PHP位运算符的说明很少，就自己做了点笔记，发出来共享一下。

虽然位运算很不经常用到，但是在例如PHP权限控制的设计等问题中，有时候是需要用到得。

&nbsp;

<hr id="null" />

&nbsp;
<p align="center">~ （按位非）：取反</p>
&nbsp;
<table width="60%" border="1" cellspacing="1" cellpadding="1" align="center">
<tbody>
<tr>
<td>
<p align="center"> $A</p>
</td>
<td>
<p align="center"> ~ $A</p>
</td>
</tr>
<tr>
<td>
<p align="center"> 0</p>
</td>
<td>
<p align="center"> 1</p>
</td>
</tr>
<tr>
<td>
<p align="center"> 1</p>
</td>
<td>
<p align="center"> 0</p>
</td>
</tr>
</tbody>
</table>
&nbsp;

&nbsp;
<p align="center">&amp; （按位与）：二者都为 1 时为 1 ，否则为 0</p>

<table width="70%" border="1" cellspacing="1" cellpadding="1">
<tbody>
<tr>
<td>
<p align="center"> $A</p>
</td>
<td>
<p align="center">$B</p>
</td>
<td>
<p align="center">$A &amp; $B</p>
</td>
</tr>
<tr>
<td>
<p align="center"> 0</p>
</td>
<td>
<p align="center"> 0</p>
</td>
<td>
<p align="center"> 0</p>
</td>
</tr>
<tr>
<td>
<p align="center"> 0</p>
</td>
<td>
<p align="center"> 1</p>
</td>
<td>
<p align="center"> 0</p>
</td>
</tr>
<tr>
<td>
<p align="center"> 1</p>
</td>
<td>
<p align="center"> 0</p>
</td>
<td>
<p align="center">0</p>
</td>
</tr>
<tr>
<td>
<p align="center"> 1</p>
</td>
<td>
<p align="center"> 1</p>
</td>
<td>
<p align="center"> 1</p>
</td>
</tr>
</tbody>
</table>
^ （按位异或）：二者值不相同为 1 ，二者相同为 0
<table width="70%" border="1" cellspacing="1" cellpadding="1">
<tbody>
<tr>
<td>
<p align="center"> $A</p>
</td>
<td>
<p align="center">$B</p>
</td>
<td>
<p align="center">$A ^ $B</p>
</td>
</tr>
<tr>
<td>
<p align="center"> 0</p>
</td>
<td>
<p align="center"> 0</p>
</td>
<td>
<p align="center"> 0</p>
</td>
</tr>
<tr>
<td>
<p align="center"> 0</p>
</td>
<td>
<p align="center"> 1</p>
</td>
<td>
<p align="center"> 1</p>
</td>
</tr>
<tr>
<td>
<p align="center"> 1</p>
</td>
<td>
<p align="center"> 0</p>
</td>
<td>
<p align="center"> 1</p>
</td>
</tr>
<tr>
<td>
<p align="center"> 1</p>
</td>
<td>
<p align="center"> 1</p>
</td>
<td>
<p align="center"> 0</p>
</td>
</tr>
</tbody>
</table>
| （按位或）：二者其中一个为 1 就为 1 ，否则为 0
<table width="70%" border="1" cellspacing="1" cellpadding="1">
<tbody>
<tr>
<td>
<p align="center"> $A</p>
</td>
<td>
<p align="center">$B</p>
</td>
<td>
<p align="center">$A | $B</p>
</td>
</tr>
<tr>
<td>
<p align="center"> 0</p>
</td>
<td>
<p align="center"> 0</p>
</td>
<td>
<p align="center"> 0</p>
</td>
</tr>
<tr>
<td>
<p align="center"> 0</p>
</td>
<td>
<p align="center">1</p>
</td>
<td>
<p align="center">1</p>
</td>
</tr>
<tr>
<td>
<p align="center"> 1</p>
</td>
<td>
<p align="center"> 0</p>
</td>
<td>
<p align="center"> 1</p>
</td>
</tr>
<tr>
<td>
<p align="center"> 1</p>
</td>
<td>
<p align="center"> 1</p>
</td>
<td>
<p align="center"> 1</p>
</td>
</tr>
</tbody>
</table>
&nbsp;

<hr id="null" />

&nbsp;

&nbsp;

举例说明：
&lt;?php
$a = 12;     // 12=00001100
$b = 3;     // 3=00000011
echo $a &amp; $b . “&lt;br /&gt;”; // 显示结果为：   0
echo $a ^ $b . “&lt;br /&gt;”; // 显示结果为：   15
echo $a | $b . “&lt;br /&gt;”; // 显示结果为： 15
echo $a &lt;&lt; $b . “&lt;br /&gt;”; // 显示结果为：   96
echo $a &gt;&gt; $b . “&lt;br /&gt;”; // 显示结果为：   1
echo ~$a ;                       // 显示结果为： -13

?&gt;

$a &amp; $b：二者都为 1 时为 1 ，否则为 0。即把 $a 和 $b 中都为 1 的位设为 1 ，否则设为 0 。
0000 1100 ← $a
&amp; 0000 0011 ← $b
--------------------------------------
0000 0000 = 0
$a ^ $b：二者值不相同为 1 ，二者相同为 0 。即把 $a 和 $b 中不同的位设为 1 ，相同的位设为 0 。
0000 1100 ← $a
^ 0000 0011 ← $b
--------------------------------------
0000 1111 = 15

$a | $b：二者其中一个为 1 就为 1 ，否则为 0 。即把 $a 或者 $b 中为 1 的位设为 1 ，否则设为 0 。
0000 1100 ← $a
| 0000 0011 ← $b
--------------------------------------
0000 1111 = 15
$a &lt;&lt; $b：将 $a 中的位向左移动 $b 次（每一次移动都表示“乘以 2”，即“乘以 2$b ”）。
0000 1100 ← $a
&lt;&lt;   0110 0000 左移3个，空出的位置用 0 补充
--------------------------------------
0110 0000 = 96 (实际为12* 2的3次方）

$a &gt;&gt; $b：将 $a 中的位向右移动 $b 次（每一次移动都表示“除以 2”，即“乘以 2 -$b ”）。
0000 1100 ← $a
&lt;&lt;   0000 0001 右移3个，多出的位置截掉
--------------------------------------
0000 0001 = 1

<span style="color: #ff0000;">数字的左右移 ：
</span> 1、左移时，将左边的数乘以2  乘n次=右边的数。也就是：左边的数乘以(2的右边数次方)
如：5 &lt;&lt; 3   ， 运算时：5*2*2*2 = 5乘以(2的3次方) = 40

2、右移时，将左边的数除以2  除n次=右边的数。也就是：左边的数除以(2的右边数次方)
如：5 &gt;&gt; 3   ， 运算时：5/2/2/2 = 5除以(2的3次方) = 0

结论：左、右移的结果，如果有小数点或小于0，将舍弃法取整。
一句话：左右移是乘以或除以2的n次方，n=右边参数。

-----------------------------------------------
<span style="color: #ff0000;">了解二进制十进制转换函数 ：
</span>bindec() — 二进制转换为十进制
decbin() — 十进制转换为二进制
或者使用 base_convert() — 在任意进制之间转换数字 string base_convert ( string $number , int $frombase , int $tobase )
