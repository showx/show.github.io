

<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>
      
    --- - shengsheng的博客
    
    </title>
    
    
    
    <link href="atom.xml" rel="alternate" title="shengsheng的博客" type="application/atom+xml">
    <link rel="stylesheet" href="asset/style.css">
    
</head>
  <body>




        <div id="wrapper">
            <header class="site-header">
                <div class="container">
                    <div class="site-title-wrapper">
                          <a class="button-square" href="index.html">
<svg class="svg-inline--fa fa-home fa-w-18" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="home" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" data-fa-i2svg=""><path fill="currentColor" d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"></path></svg>
                            </a>
                        
                         
                        
                        
                        
                        <a class="button-square" href="https://github.com/showx" target="_blank" title="github">
                               <svg class="svg-inline--fa fa-github fa-w-16" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" data-fa-i2svg=""><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg><!-- <i class="fab fa-github fa-lg"></i> -->
                          </a>
                        
                        
                      
                      <a class="button-square" href="atom.xml" target="_blank" title="RSS">
                              <svg class="svg-inline--fa fa-rss fa-w-14" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="rss" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z"></path></svg><!-- <i class="fas fa-rss fa-lg"></i> -->
                      </a>

              
                       
                         
                        
                    </div>

                    <ul class="site-nav">
                        
                    </ul>
                </div>
            </header>

            <div id="container">

 
<div class="container">
  <article class="post-container">
    <header class="post-header">
        <h1 class="post-title">---</h1>
        <p class="post-date">
                <span>Posted <time datetime="2020/02/06" itemprop="datePublished">2020/02/06</time></span>
            </p>
    </header>

    <div class="post-content clearfix">
<p>layout: post<br/>
title: desarrolla2/cache缓存的使用<br/>
date: 2017-09-20 14:57<br/>
author: admin<br/>
comments: true</p>

<h2 id="toc_0">categories: [Uncategorized]</h2>

<h2>Installation</h2>

<h3><a id="user-content-with-composer" class="anchor" href="https://packagist.org/packages/desarrolla2/cache#user-content-with-composer" rel="nofollow noopener external"></a>With Composer</h3>

<p>It is best installed it through <a href="http://packagist.org/packages/desarrolla2/cache" rel="nofollow noopener external">packagist</a> by including <code>desarrolla2/cache</code> in your project composer.json require:<br/>
<pre>    <span class="pl-s"><span class="pl-pds">&quot;</span>require<span class="pl-pds">&quot;</span></span>: {<br/>
        <span class="pl-ii">//</span> <span class="pl-ii">...</span><br/>
        <span class="pl-s"><span class="pl-pds">&quot;</span>desarrolla2/cache<span class="pl-pds">&quot;</span></span>:  <span class="pl-s"><span class="pl-pds">&quot;</span>~2.0<span class="pl-pds">&quot;</span></span><br/>
    }</pre><br/>
<h3><a id="user-content-without-composer" class="anchor" href="https://packagist.org/packages/desarrolla2/cache#user-content-without-composer" rel="nofollow noopener external"></a>Without Composer</h3><br/>
You can also download it from <a href="a%20href=%22https://github.com/desarrolla2/Cache%22%20rel=%22nofollow%20noopener%20external%22%3Ehttps://github.com/desarrolla2/Cache%3C/a">Github</a>, but no autoloader is provided so you&#39;ll need to register it with your own PSR-0 compatible autoloader.<br/>
<h2><a id="user-content-usage" class="anchor" href="https://packagist.org/packages/desarrolla2/cache#user-content-usage" rel="nofollow noopener external"></a>Usage</h2><br/>
<pre><span class="pl-pse">&lt;?php</span></p>

<p><span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Desarrolla2\Cache\Cache</span>;</span><br/>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Desarrolla2\Cache\Adapter\NotCache</span>;</span></p>

<p><span class="pl-s1"><span class="pl-smi">$cache</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Cache</span>(<span class="pl-k">new</span> <span class="pl-c1">NotCache</span>());</span></p>

<p><span class="pl-s1"><span class="pl-smi">$cache</span><span class="pl-k">-&gt;</span>set(<span class="pl-s"><span class="pl-pds">&#39;</span>key<span class="pl-pds">&#39;</span></span>, <span class="pl-s"><span class="pl-pds">&#39;</span>myKeyValue<span class="pl-pds">&#39;</span></span>, <span class="pl-c1">3600</span>);</span></p>

<p><span class="pl-s1"><span class="pl-c">// later ...</span></span></p>

<p><span class="pl-s1"><span class="pl-c1">echo</span> <span class="pl-smi">$cache</span><span class="pl-k">-&gt;</span>get(<span class="pl-s"><span class="pl-pds">&#39;</span>key<span class="pl-pds">&#39;</span></span>);</span><br/>
</pre><br/>
<h2><a id="user-content-adapters" class="anchor" href="https://packagist.org/packages/desarrolla2/cache#user-content-adapters" rel="nofollow noopener external"></a>Adapters</h2><br/>
<h3><a id="user-content-apcu" class="anchor" href="https://packagist.org/packages/desarrolla2/cache#user-content-apcu" rel="nofollow noopener external"></a>Apcu</h3><br/>
Use it if you will you have APC cache available in your system.<br/>
<pre><span class="pl-pse">&lt;?php</span></p>

<p><span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Desarrolla2\Cache\Cache</span>;</span><br/>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Desarrolla2\Cache\Adapter\Apcu</span>;</span></p>

<p><span class="pl-s1"><span class="pl-smi">\(adapter&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;Apcu&lt;/span&gt;();&lt;/span&gt;<br/>
&lt;span class=&quot;pl-s1&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;\)adapter</span><span class="pl-k">-&gt;</span>setOption(<span class="pl-s"><span class="pl-pds">&#39;</span>ttl<span class="pl-pds">&#39;</span></span>, <span class="pl-c1">3600</span>);</span><br/>
<span class="pl-s1"><span class="pl-smi">\(cache&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;Cache&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot;&gt;\)adapter</span>);</span><br/>
</pre><br/>
<h3><a id="user-content-file" class="anchor" href="https://packagist.org/packages/desarrolla2/cache#user-content-file" rel="nofollow noopener external"></a>File</h3><br/>
Use it if you will you have dont have other cache system available in your system or if you like to do your code more portable.<br/>
<pre><span class="pl-pse">&lt;?php</span></p>

<p><span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Desarrolla2\Cache\Cache</span>;</span><br/>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Desarrolla2\Cache\Adapter\File</span>;</span></p>

<p><span class="pl-s1"><span class="pl-smi">\(cacheDir&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&#39;&lt;/span&gt;/tmp&lt;span class=&quot;pl-pds&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;;&lt;/span&gt;<br/>
&lt;span class=&quot;pl-s1&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;\)adapter</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">File</span>(<span class="pl-smi">\(cacheDir&lt;/span&gt;);&lt;/span&gt;<br/>
&lt;span class=&quot;pl-s1&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;\)adapter</span><span class="pl-k">-&gt;</span>setOption(<span class="pl-s"><span class="pl-pds">&#39;</span>ttl<span class="pl-pds">&#39;</span></span>, <span class="pl-c1">3600</span>);</span><br/>
<span class="pl-s1"><span class="pl-smi">\(cache&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;Cache&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot;&gt;\)adapter</span>);</span><br/>
</pre><br/>
<h3><a id="user-content-memcache" class="anchor" href="https://packagist.org/packages/desarrolla2/cache#user-content-memcache" rel="nofollow noopener external"></a>Memcache</h3><br/>
Use it if you will you have mencache available in your system.<br/>
<pre><span class="pl-pse">&lt;?php</span></p>

<p><span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Desarrolla2\Cache\Cache</span>;</span><br/>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Desarrolla2\Cache\Adapter\Memcache</span>;</span></p>

<p><span class="pl-s1"><span class="pl-smi">\(adapter&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;Memcache&lt;/span&gt;();&lt;/span&gt;<br/>
&lt;span class=&quot;pl-s1&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;\)cache</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Cache</span>(<span class="pl-smi">$adapter</span>);</span><br/>
</pre><br/>
You can config your connection before<br/>
<pre><span class="pl-pse">&lt;?php</span></p>

<p><span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Desarrolla2\Cache\Cache</span>;</span><br/>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Desarrolla2\Cache\Adapter\Memcache</span>;    </span><br/>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">\Memcache</span> <span class="pl-k">as</span> <span class="pl-c1">Backend</span></span></p>

<p><span class="pl-s1"><span class="pl-smi">$backend</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Backend</span>();</span><br/>
<span class="pl-s1"><span class="pl-c">// configure it here</span></span></p>

<p><span class="pl-s1"><span class="pl-smi">\(cache&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;Cache&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;Memcache&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot;&gt;\)backend</span>));</span></pre><br/>
<h3><a id="user-content-memcached" class="anchor" href="https://packagist.org/packages/desarrolla2/cache#user-content-memcached" rel="nofollow noopener external"></a>Memcached</h3><br/>
Is the same like mencache adapter.<br/>
<h3><a id="user-content-memory" class="anchor" href="https://packagist.org/packages/desarrolla2/cache#user-content-memory" rel="nofollow noopener external"></a>Memory</h3><br/>
This is the fastest cache type, since the elements are stored in memory. Cache Memory such is very volatile and is removed when the process terminates. Also it is not shared between different processes.</p>

<p>Memory cache have a option &quot;limit&quot;, that limit the max items in cache.<br/>
<pre><span class="pl-pse">&lt;?php</span></p>

<p><span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Desarrolla2\Cache\Cache</span>;</span><br/>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Desarrolla2\Cache\Adapter\Memory</span>;</span></p>

<p><span class="pl-s1"><span class="pl-smi">\(adapter&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;Memory&lt;/span&gt;();&lt;/span&gt;<br/>
&lt;span class=&quot;pl-s1&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;\)adapter</span><span class="pl-k">-&gt;</span>setOption(<span class="pl-s"><span class="pl-pds">&#39;</span>ttl<span class="pl-pds">&#39;</span></span>, <span class="pl-c1">3600</span>);</span><br/>
<span class="pl-s1"><span class="pl-smi">\(adapter&lt;/span&gt;&lt;span class=&quot;pl-k&quot;&gt;-&amp;gt;&lt;/span&gt;setOption(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&#39;&lt;/span&gt;limit&lt;span class=&quot;pl-pds&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;200&lt;/span&gt;);&lt;/span&gt;<br/>
&lt;span class=&quot;pl-s1&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;\)cache</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Cache</span>(<span class="pl-smi">$adapter</span>);</span><br/>
</pre><br/>
<h3><a id="user-content-mongo" class="anchor" href="https://packagist.org/packages/desarrolla2/cache#user-content-mongo" rel="nofollow noopener external"></a>Mongo</h3><br/>
Use it to store the cache in a Mongo database. Requires the <a href="http://php.net/mongo" rel="nofollow noopener external">(legacy) mongo extension</a> or the <a href="https://github.com/mongodb/mongo-php-library" rel="nofollow noopener external">mongodb/mongodb</a> library.</p>

<p>You may pass either a database or collection object to the constructor. If a database object is passed, the <code>items</code> collection within that DB is used.<br/>
<pre><span class="pl-pse">&lt;?php</span></p>

<p><span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Desarrolla2\Cache\Cache</span>;</span><br/>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Desarrolla2\Cache\Adapter\Mongo</span>;</span></p>

<p><span class="pl-s1"><span class="pl-smi">\(client&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;MongoClient&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot;&gt;\)dsn</span>);</span><br/>
<span class="pl-s1"><span class="pl-smi">\(database&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;\)client</span><span class="pl-k">-&gt;</span>selectDatabase(<span class="pl-smi">$dbname</span>);</span></p>

<p><span class="pl-s1"><span class="pl-smi">\(adapter&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;Mongo&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot;&gt;\)database</span>);</span><br/>
<span class="pl-s1"><span class="pl-smi">\(adapter&lt;/span&gt;&lt;span class=&quot;pl-k&quot;&gt;-&amp;gt;&lt;/span&gt;setOption(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&#39;&lt;/span&gt;ttl&lt;span class=&quot;pl-pds&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;3600&lt;/span&gt;);&lt;/span&gt;<br/>
&lt;span class=&quot;pl-s1&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;\)cache</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Cache</span>(<span class="pl-smi">$adapter</span>);</span><br/>
</pre><br/>
<pre><span class="pl-pse">&lt;?php</span></p>

<p><span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Desarrolla2\Cache\Cache</span>;</span><br/>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Desarrolla2\Cache\Adapter\Mongo</span>;</span></p>

<p><span class="pl-s1"><span class="pl-smi">\(client&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;MongoClient&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot;&gt;\)dsn</span>);</span><br/>
<span class="pl-s1"><span class="pl-smi">\(database&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-smi&quot;&gt;\)client</span><span class="pl-k">-&gt;</span>selectDatabase(<span class="pl-smi">\(dbName&lt;/span&gt;);&lt;/span&gt;<br/>
&lt;span class=&quot;pl-s1&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;\)collection</span> <span class="pl-k">=</span> <span class="pl-smi">\(database&lt;/span&gt;&lt;span class=&quot;pl-k&quot;&gt;-&amp;gt;&lt;/span&gt;selectCollection(&lt;span class=&quot;pl-smi&quot;&gt;\)collectionName</span>);</span></p>

<p><span class="pl-s1"><span class="pl-smi">\(adapter&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;Mongo&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot;&gt;\)collection</span>);</span><br/>
<span class="pl-s1"><span class="pl-smi">\(adapter&lt;/span&gt;&lt;span class=&quot;pl-k&quot;&gt;-&amp;gt;&lt;/span&gt;setOption(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&#39;&lt;/span&gt;ttl&lt;span class=&quot;pl-pds&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;pl-c1&quot;&gt;3600&lt;/span&gt;);&lt;/span&gt;<br/>
&lt;span class=&quot;pl-s1&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;\)cache</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Cache</span>(<span class="pl-smi">$adapter</span>);</span><br/>
</pre><br/>
<em>Note that expired cache items aren&#39;t automatically deleted. To keep your database clean, you should create a <a href="https://docs.mongodb.org/manual/core/index-ttl/" rel="nofollow noopener external">ttl index</a>.</em><br/>
<pre><code>db.items.createIndex( { &quot;ttl&quot;: 1 }, { expireAfterSeconds: 30 } )<br/>
</code></pre><br/>
<h3><a id="user-content-mysqli" class="anchor" href="https://packagist.org/packages/desarrolla2/cache#user-content-mysqli" rel="nofollow noopener external"></a>Mysqli</h3><br/>
Use it if you will you have mysqlnd available in your system.<br/>
<pre><span class="pl-pse">&lt;?php</span></p>

<p><span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Desarrolla2\Cache\Cache</span>;</span><br/>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Desarrolla2\Cache\Adapter\Mysqli</span>;</span></p>

<p><span class="pl-s1"><span class="pl-smi">\(adapter&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;Mysqli&lt;/span&gt;();&lt;/span&gt;<br/>
&lt;span class=&quot;pl-s1&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;\)adapter</span><span class="pl-k">-&gt;</span>setOption(<span class="pl-s"><span class="pl-pds">&#39;</span>ttl<span class="pl-pds">&#39;</span></span>, <span class="pl-c1">3600</span>);</span><br/>
<span class="pl-s1"><span class="pl-smi">\(cache&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;Cache&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot;&gt;\)adapter</span>);</span><br/>
</pre><br/>
<pre><span class="pl-pse">&lt;?php</span></p>

<p><span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Desarrolla2\Cache\Cache</span>;</span><br/>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Desarrolla2\Cache\Adapter\Mysqli</span>;    </span><br/>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">\mysqli</span> <span class="pl-k">as</span> <span class="pl-c1">Backend</span></span></p>

<p><span class="pl-s1"><span class="pl-smi">$backend</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Backend</span>();</span><br/>
<span class="pl-s1"><span class="pl-c">// configure it here</span></span></p>

<p><span class="pl-s1"><span class="pl-smi">\(cache&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;Cache&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;Mysqli&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot;&gt;\)backend</span>));</span></pre><br/>
<h3><a id="user-content-notcache" class="anchor" href="https://packagist.org/packages/desarrolla2/cache#user-content-notcache" rel="nofollow noopener external"></a>NotCache</h3><br/>
Use it if you will not implement any cache adapter is an adapter that will serve to fool the test environments.<br/>
<h3><a id="user-content-predis" class="anchor" href="https://packagist.org/packages/desarrolla2/cache#user-content-predis" rel="nofollow noopener external"></a>Predis</h3><br/>
Use it if you will you have redis available in your system.</p>

<p>You need to add predis as dependency in your composer file.<br/>
<pre><span class="pl-s"><span class="pl-pds">&quot;</span>require<span class="pl-pds">&quot;</span></span>: {<br/>
    <span class="pl-ii">//...</span><br/>
    <span class="pl-s"><span class="pl-pds">&quot;</span>predis/predis<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>~1.0.0<span class="pl-pds">&quot;</span></span><br/>
}</pre><br/>
other version will have compatibility issues.<br/>
<pre><span class="pl-pse">&lt;?php</span></p>

<p><span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Desarrolla2\Cache\Cache</span>;</span><br/>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Desarrolla2\Cache\Adapter\Predis</span>;</span></p>

<p><span class="pl-s1"><span class="pl-smi">\(adapter&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;Predis&lt;/span&gt;();&lt;/span&gt;<br/>
&lt;span class=&quot;pl-s1&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;\)cache</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Cache</span>(<span class="pl-smi">$adapter</span>);</span><br/>
</pre><br/>
If you need to configure your predis client, you will instantiate it and pass it to constructor.<br/>
<pre><span class="pl-pse">&lt;?php</span></p>

<p><span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Desarrolla2\Cache\Cache</span>;</span><br/>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Desarrolla2\Cache\Adapter\Predis</span>;</span><br/>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Predis\Client</span> <span class="pl-k">as</span> <span class="pl-c1">Backend</span></span></p>

<p><span class="pl-s1"><span class="pl-smi">\(adapter&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;Predis&lt;/span&gt;(&lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;Backend&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot;&gt;\)options</span>));</span><br/>
<span class="pl-s1"><span class="pl-smi">\(cache&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;Cache&lt;/span&gt;(&lt;span class=&quot;pl-smi&quot;&gt;\)adapter</span>);</span><br/>
</pre><br/>
<h2><a id="user-content-methods" class="anchor" href="https://packagist.org/packages/desarrolla2/cache#user-content-methods" rel="nofollow noopener external"></a>Methods</h2><br/>
A <code>Desarrolla2\Cache\Cache</code> object has the following methods:<br/>
<h5><a id="user-content-deletestring-key" class="anchor" href="https://packagist.org/packages/desarrolla2/cache#user-content-deletestring-key" rel="nofollow noopener external"></a><code>delete(string \(key)&lt;/code&gt;&lt;/h5&gt;<br/>
Delete a value from the cache<br/>
&lt;h5&gt;&lt;a id=&quot;user-content-getstring-key&quot; class=&quot;anchor&quot; href=&quot;https://packagist.org/packages/desarrolla2/cache#user-content-getstring-key&quot; rel=&quot;nofollow noopener external&quot;&gt;&lt;/a&gt;&lt;code&gt;get(string \)key)</code></h5><br/>
Retrieve the value corresponding to a provided key<br/>
<h5><a id="user-content-hasstring-key" class="anchor" href="https://packagist.org/packages/desarrolla2/cache#user-content-hasstring-key" rel="nofollow noopener external"></a><code>has(string \(key)&lt;/code&gt;&lt;/h5&gt;<br/>
Retrieve the if value corresponding to a provided key exist<br/>
&lt;h5&gt;&lt;a id=&quot;user-content-setstring-key--mixed-value--int-ttl&quot; class=&quot;anchor&quot; href=&quot;https://packagist.org/packages/desarrolla2/cache#user-content-setstring-key--mixed-value--int-ttl&quot; rel=&quot;nofollow noopener external&quot;&gt;&lt;/a&gt;&lt;code&gt;set(string \)key , mixed \(value [, int \)ttl])</code></h5><br/>
Add a value to the cache under a unique key<br/>
<h5><a id="user-content-setoptionstring-key-string-value" class="anchor" href="https://packagist.org/packages/desarrolla2/cache#user-content-setoptionstring-key-string-value" rel="nofollow noopener external"></a><code>setOption(string \(key, string \)value)</code></h5><br/>
Set option for Adapter<br/>
<h5><a id="user-content-clearcache" class="anchor" href="https://packagist.org/packages/desarrolla2/cache#user-content-clearcache" rel="nofollow noopener external"></a><code>clearCache()</code></h5><br/>
Clean all expired records from cache<br/>
<h5><a id="user-content-dropcache" class="anchor" href="https://packagist.org/packages/desarrolla2/cache#user-content-dropcache" rel="nofollow noopener external"></a><code>dropCache()</code></h5><br/>
Clear all cache<br/>
<h2><a id="user-content-coming-soon" class="anchor" href="https://packagist.org/packages/desarrolla2/cache#user-content-coming-soon" rel="nofollow noopener external"></a>Coming soon</h2><br/>
This library implements other adapters as soon as possible, feel free to send new adapters if you think it appropriate.</p>

<p>This can be a list of pending tasks.<br/>
<ul><br/>
    <li>Cleaning cache</li><br/>
    <li>MemcachedAdapter</li><br/>
    <li>Other Adapters</li><br/>
</ul></p>

    </div>
    <footer class="post-footer clearfix">
      
           
      
        
    </footer>
     <div class="comments-wrap">
        <div class="share-comments">
          

          

          
        </div>
      </div><!-- end comments wrap -->
  </article>
 </div><!-- end-->



    <footer class="footer">
            <div class="container">
                <div class="site-footer-wrapper">
                        <a class="button-square" href="index.html">
<svg class="svg-inline--fa fa-home fa-w-18" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="home" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" data-fa-i2svg=""><path fill="currentColor" d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"></path></svg>
                            </a>
                        
                         
                        
                        
                        
                        <a class="button-square" href="https://github.com/showx" target="_blank" title="github">
                               <svg class="svg-inline--fa fa-github fa-w-16" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" data-fa-i2svg=""><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg><!-- <i class="fab fa-github fa-lg"></i> -->
                          </a>
                        
                        
                      
                      <a class="button-square" href="atom.xml" target="_blank" title="RSS">
                              <svg class="svg-inline--fa fa-rss fa-w-14" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="rss" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z"></path></svg><!-- <i class="fas fa-rss fa-lg"></i> -->
                      </a>

              
                       
                                                
                </div>
                <div class="site-menu-wrapper">
                  &nbsp;<span>|</span>&nbsp;
                  
                    <a target="self" class="" href="index.html">Home</a>
                    &nbsp;<span>|</span>&nbsp;
                  
                    <a target="_self" class="" href="archives.html">Archives</a>
                    &nbsp;<span>|</span>&nbsp;
                                             
                </div>

                <p class="footer-copyright">
                        Copyright &copy; 2019
                        Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
                        Theme used <a target="_blank" href="https://blog.timac.org">Timac</a>.
                </p>
            </div>
        </footer>



<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">MathJax.Hub.Config({TeX: { equationNumbers: { autoNumber: "AMS" } }});</script>

  













        
      
  
    


    </body>
</html>
