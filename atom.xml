<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[shengsheng的博客]]></title>
  <link href="http://www.shengsheng.net/atom.xml" rel="self"/>
  <link href="http://www.shengsheng.net/"/>
  <updated>2020-04-24T19:42:21+08:00</updated>
  <id>http://www.shengsheng.net/</id>
  <author>
    <name><![CDATA[]]></name>
    
  </author>
  <generator uri="http://www.mweb.im/">MWeb</generator>
  
  <entry>
    <title type="html"><![CDATA[docker发布hub过程]]></title>
    <link href="http://www.shengsheng.net/15877286658619.html"/>
    <updated>2020-04-24T19:44:25+08:00</updated>
    <id>http://www.shengsheng.net/15877286658619.html</id>
    <content type="html"><![CDATA[
<p>其实不少人会制作docker镜像，但重新pull的时候，在本地没镜像，环境搭起来就浪费不少时间了，所以把自己常用的镜像推送到云端是比较有必要的。</p>

<h1 id="toc_0">推送hub</h1>

<p>docker官方提供的hub地址：<a href="https://hub.docker.com/">https://hub.docker.com/</a><br/>
没账号的先在上面申请好账号哈。hub.docker的账号注册就略过啦。<sup>_^</sup></p>

<p><img src="media/15877286658619/15877288006092.jpg" alt=""/></p>

<p>注册好之后，有个创建仓库的按钮。<br/>
进入容器，修改好容之后<br/>
把容器提交到镜像<br/>
<code><br/>
docker commit container [repository:tag]<br/>
</code><br/>
<img src="media/15877286658619/15877290189087.jpg" alt=""/><br/>
这时候内容已经更新到本地的镜像指定的tag中了</p>

<p><code><br/>
docker push show/php:7.2.6<br/>
</code><br/>
输入相关账号密码，即可提交到云端</p>

<p>去另外一台电脑上愉快的docker pull 自己的镜像吧。</p>

<h1 id="toc_1">后记</h1>

<p>理解好微服务，就知道使用docker是如何的方便的啦。</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[打印nginx变量来调试相关信息]]></title>
    <link href="http://www.shengsheng.net/15877280381303.html"/>
    <updated>2020-04-24T19:33:58+08:00</updated>
    <id>http://www.shengsheng.net/15877280381303.html</id>
    <content type="html"><![CDATA[
<p>实际有时候nginx服务器有很多变量我们都不清楚conf的时候配置得怎么样，实际可以安装nginx的module：echo模块来打印一下</p>

<p>通常我们的配置，登录fastcgi</p>

<pre><code class="language-text">
fastcgi_param  QUERY_STRING       $query_string;
fastcgi_param  REQUEST_METHOD     $request_method;
fastcgi_param  CONTENT_TYPE       $content_type;
fastcgi_param  CONTENT_LENGTH     $content_length;

fastcgi_param  SCRIPT_NAME        $fastcgi_script_name;
fastcgi_param  REQUEST_URI        $request_uri;
fastcgi_param  DOCUMENT_URI       $document_uri;
fastcgi_param  DOCUMENT_ROOT      $document_root;
fastcgi_param  SERVER_PROTOCOL    $server_protocol;
fastcgi_param  REQUEST_SCHEME     $scheme;
fastcgi_param  HTTPS              $https if_not_empty;

fastcgi_param  GATEWAY_INTERFACE  CGI/1.1;
fastcgi_param  SERVER_SOFTWARE    nginx/$nginx_version;

fastcgi_param  REMOTE_ADDR        $remote_addr;
fastcgi_param  REMOTE_PORT        $remote_port;
fastcgi_param  SERVER_ADDR        $server_addr;
fastcgi_param  SERVER_PORT        $server_port;
fastcgi_param  SERVER_NAME        $server_name;

# PHP only, required if PHP was built with --enable-force-cgi-redirect
fastcgi_param  REDIRECT_STATUS    200;
</code></pre>

<p>我们想打印一下定义的变量，最快捷的方法，使用nginx输出一下即可</p>

<h1 id="toc_0">如下</h1>

<pre><code class="language-text">server {
    server_name 127.0.0.1;
    location /http{
        expires -1;
        
        echo [request_filename:\t$request_filename];
        echo [request_method:\t$request_method];
        echo [request_body_file:\t$request_body_file];
        
        echo [http_host:\t$http_host];
        echo [remote_addr:\t$remote_addr];
        echo [time_local:\t$time_local];
        echo [request:\t$request];
        echo [xrequest:\t$xrequest];
        echo [http_referer:\t$http_referer];
        echo [http_user_agent:\t$http_user_agent];
        echo [status:\t$status];
        echo [request_time:\t$request_time];
        echo [http_x_forwarded_for:\t$http_x_forwarded_for];
        echo [request_body:\t$request_body];
        
        #return 200 &quot;abc&quot;;
        
    }
}
</code></pre>

<h1 id="toc_1">其它</h1>

<p>顺便提一下nginx的监近模块，如果你的服务使用的是nginx,不访用来定时监控一下</p>

<h2 id="toc_2">ngx_http_stub_status_module</h2>

<p>stub_status</p>

<h2 id="toc_3">ngx_google_perftools_module</h2>

<p>gperftools定位性能问题</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[shell常用复习]]></title>
    <link href="http://www.shengsheng.net/15876399053304.html"/>
    <updated>2020-04-23T19:05:05+08:00</updated>
    <id>http://www.shengsheng.net/15876399053304.html</id>
    <content type="html"><![CDATA[
<h2 id="toc_0">常用快捷键</h2>

<ul>
<li>Ctrl + L：清除屏幕并将当前行移到页面顶部。</li>
<li>Ctrl + U：从光标位置删除到行首。</li>
<li>Ctrl + K：从光标位置删除到行尾。</li>
<li>Ctrl + a：移到行首。</li>
<li>Ctrl + b：向行首移动一个字符，与左箭头作用相同。</li>
<li>Ctrl + e：移到行尾。</li>
<li>Ctrl + f：向行尾移动一个字符，与右箭头作用相同。</li>
<li>Alt + f：移动到当前单词的词尾。</li>
<li>Alt + b：移动到当前单词的词首。</li>
<li>Ctrl + d：删除光标位置的字符（delete）。</li>
<li>Ctrl + w：删除光标前面的单词。</li>
<li>Ctrl + t：光标位置的字符与它前面一位的字符交换位置（transpose）。</li>
<li>Alt + t：光标位置的词与它前面一位的词交换位置（transpose）。</li>
<li>Alt + l：将光标位置至词尾转为小写（lowercase）。</li>
<li>Alt + u：将光标位置至词尾转为大写（uppercase）。</li>
<li>使用Ctrl + d的时候，如果当前行没有任何字符，会导致退出当前 Shell，所以要小心。</li>
</ul>

<h3 id="toc_1">剪切和粘贴快捷键如下。</h3>

<ul>
<li>Ctrl + k：剪切光标位置到行尾的文本。</li>
<li>Ctrl + u：剪切光标位置到行首的文本。</li>
<li>Alt + d：剪切光标位置到词尾的文本。</li>
<li>Alt + Backspace：剪切光标位置到词首的文本。</li>
<li><p>Ctrl + y：在光标位置粘贴文本。</p></li>
<li><p>Ctrl + p：显示上一个命令，与向上箭头效果相同（previous）。</p></li>
<li><p>Ctrl + n：显示下一个命令，与向下箭头效果相同（next）。</p></li>
<li><p>Alt + &lt;：显示第一个命令。</p></li>
<li><p>Alt + &gt;：显示最后一个命令，即当前的命令。</p></li>
<li><p>Ctrl + o：执行历史文件里面的当前条目，并自动显示下一条命令。这对重复执行某个序列的命令很有帮助。</p></li>
</ul>

<h3 id="toc_2">感叹号!的快捷键如下。</h3>

<ul>
<li>!!：执行上一个命令。</li>
<li>!n：执行历史文件里面行号为n的命令。</li>
<li>!-n：执行当前命令之前n条的命令。</li>
<li>!string：执行最近一个以指定字符串string开头的命令。</li>
<li>!?string：执行最近一条包含字符串string的命令。</li>
<li><sup>string1<sup>string2：执行最近一条包含string1的命令，将其替换成string2。</sup></sup></li>
</ul>

<h2 id="toc_3">()号</h2>

<p>\((...)可以扩展成另一个命令的运行结果，该命令的所有输出都会作为返回值。<br/>
\)((...))可以扩展成整数运算的结果，详见《Bash 的算术运算》一章。</p>

<p>\( myvar=USER<br/>
\) echo ${!myvar}<br/>
ruanyf</p>

<p>$?为上一个命令的退出码，用来判断上一个命令是否执行成功。返回值是0，表示上一个命令执行成功；如果是非零，上一个命令执行失败。</p>

<p>字符串截数<br/>
1.最近 2.最贪婪<br/>
从前往后</p>

<pre><code class="language-text">#
##
</code></pre>

<p>从后往前</p>

<pre><code class="language-text">%
%%
</code></pre>

<h2 id="toc_4">for与while</h2>

<h3 id="toc_5">for</h3>

<p>类型js里面的for in<br/>
for i in &quot;\(@&quot;; do<br/>
  echo \)i<br/>
done</p>

<h3 id="toc_6">while</h3>

<p>while getopts &#39;lha:&#39; OPTION; do<br/>
  case &quot;$OPTION&quot; in<br/>
    l)<br/>
      echo &quot;linuxconfig&quot;<br/>
      ;;</p>

<pre><code class="language-text">h)
  echo &quot;h stands for h&quot;
  ;;

a)
  avalue=&quot;$OPTARG&quot;
  echo &quot;The value provided is $OPTARG&quot;
  ;;
?)
  echo &quot;script usage: $(basename $0) [-l] [-h] [-a somevalue]&quot; &gt;&amp;2
  exit 1
  ;;
</code></pre>

<p>esac<br/>
done<br/>
shift &quot;\(((\)OPTIND - 1))&quot;</p>

<h2 id="toc_7">命令的参数</h2>

<p>bash的-x参数可以在执行每一行命令之前，打印该命令。这样就不用自己输出执行的命令，一旦出错，比较容易追查。<br/>
-n：不运行脚本，只检查是否有语法错误。<br/>
-v：输出每一行语句运行结果前，会先输出该行语句。<br/>
-x：每一个命令处理完以后，先输出该命令，再进行下一个命令的处理。</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[mysql导出指定条数的数据]]></title>
    <link href="http://www.shengsheng.net/15875516508594.html"/>
    <updated>2020-04-22T18:34:10+08:00</updated>
    <id>http://www.shengsheng.net/15875516508594.html</id>
    <content type="html"><![CDATA[
<p>平时习惯了使用navicat for mysql来复制数据到本地数据库</p>

<p><img src="media/15875516508594/15875517328254.jpg" alt=""/></p>

<p>数据多的时候，复制会很慢，而且某些hash的索引会变成btree。<br/>
为了使本地测试机有线上部分数据库，故使用mysqldump导出指定条数。</p>

<p><code><br/>
mysqldump  --column-statistics=0 --host=127.0.0.1 --port=3306  -uroot -proot dbname --where=&quot; 1=1 limit 100&quot;&gt; db.sql <br/>
</code></p>

<p>例导出指定库，每个表格前100条数据，可以使用 --where参数，limit 100条</p>

<p>mysqldump导出的时候会锁表，还有比较好的工具，后更新。</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[免费域名证书的申请]]></title>
    <link href="http://www.shengsheng.net/15874683984714.html"/>
    <updated>2020-04-21T19:26:38+08:00</updated>
    <id>http://www.shengsheng.net/15874683984714.html</id>
    <content type="html"><![CDATA[
<p>对于ssl，我们经常会用到，但对于我们这种贫穷人家，只能通过各种方式来获取免费的ssl。<br/>
ssl证书好处，这里不多说，有疑问请度娘。<br/>
比较折腾的是，免费的都不支持泛解析。</p>

<h1 id="toc_0">测评</h1>

<h2 id="toc_1">certbot</h2>

<p>业内比较大的免费证书机构是certbot,<br/>
certbot支持强度高，但限制也大，需域名先进行解析才能使用。<br/>
<img src="media/15874683984714/15874686027554.jpg" alt=""/></p>

<h2 id="toc_2">freessl.cn</h2>

<p>操作简单，快捷，打开freessl.cn注册邮箱即可。<br/>
<img src="media/15874683984714/15874687480297.jpg" alt=""/></p>

<p>域名认证方面，使用txt作为解析，解析成功即可获得证书。<br/>
需注意，申请好之后，要保存好私钥。</p>

<h2 id="toc_3">其它</h2>

<h3 id="toc_4">腾讯云导入证书</h3>

<p><img src="media/15874683984714/15874698281428.jpg" alt=""/><br/>
下载之后有两个文件<br/>
private.key为私钥<br/>
full_chain.pem为公钥</p>

<p><img src="media/15874683984714/15874699416978.jpg" alt=""/></p>

<p>复制私钥的内容到私钥栏<br/>
full_chain.pem复制上半部分即可<br/>
<img src="media/15874683984714/15874700104254.jpg" alt=""/></p>

<h3 id="toc_5">证书格式转换:</h3>

<p><a href="https://cloud.tencent.com/document/product/228/41686">https://cloud.tencent.com/document/product/228/41686</a></p>

<h3 id="toc_6">p12,pem,key</h3>

<p>这部分度娘了解一下证书原理即可。</p>

<h2 id="toc_7">结伦</h2>

<p>相对来讲，本人较喜欢freessl.cn，不用解析ip即可申请。</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[linux 2.常用性能工具]]></title>
    <link href="http://www.shengsheng.net/15870471732408.html"/>
    <updated>2020-04-16T22:26:13+08:00</updated>
    <id>http://www.shengsheng.net/15870471732408.html</id>
    <content type="html"><![CDATA[
<h2 id="toc_0">cpu性能工具</h2>

<table>
<thead>
<tr>
<th>性能指标</th>
<th>性能工具</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>平均负载</td>
<td>Uptime top /proc/loadavg</td>
<td>uptime最简单；top提供了更全的指标；/proc/loadavg常用于监控系统</td>
</tr>
<tr>
<td>系统CPU使用率</td>
<td>Vmstat mpstat top sar /proc/stat</td>
<td>Top vmstat mpstat只能动态查看，而sar还可以记录历史数据；/proc/stat是其他性能工具的数据来源，也常用于监控</td>
</tr>
<tr>
<td>进程CPU使用率</td>
<td>top ps pidstat htop atop</td>
<td>top和ps可以按CPU使用率给进程排序，而pidstat只显示实际用了CPU的进程；htop和atop以不同颜色显示更直观</td>
</tr>
<tr>
<td>进程上下文切换</td>
<td>vmstat</td>
<td>除了上下文切换次数，还提供运行状态和不可中断状态进程的数量</td>
</tr>
<tr>
<td>进程上下文切换</td>
<td>pidstat</td>
<td>注意加上-w选项</td>
</tr>
<tr>
<td>软中断</td>
<td>top mpstat /proc/softirqs</td>
<td>top提供软中断CPU使用率，而/proc/softirqs和mpstat提供了各种软中断在每个cpu上的运行次数</td>
</tr>
<tr>
<td>硬中断</td>
<td>Vmstat /proc/interrupts</td>
<td>vmstat提供总的中断次数，而/proc/interrupts提供各种中断在每个cpu上运行的累积次数</td>
</tr>
<tr>
<td>网络</td>
<td>dstat sar tcpdump</td>
<td>dstat sar提供总的网络接收和发送情况，而tcpdump则是动态抓取天上在进行的网络通讯</td>
</tr>
<tr>
<td>I/O</td>
<td>dstat sar</td>
<td>dstat和sar都提供了I/O的整体情况</td>
</tr>
<tr>
<td>CPU缓存</td>
<td>perf</td>
<td>使用perf stat子命令</td>
</tr>
<tr>
<td>CPU数</td>
<td>lscpu /proc/cpuinfo</td>
<td>lscpu更直观</td>
</tr>
<tr>
<td>事件剖析</td>
<td>Perf \ 火焰图 execsnoop</td>
<td>perf和火焰图用来分析热点函数以及调用栈，execsnoop用来监测短时进程</td>
</tr>
<tr>
<td>动态追踪</td>
<td>ftrace bcc systemtap</td>
<td>ftrace用于跟踪内核函数调用栈，而bcc和systemtap则用于跟踪内核或应用程序的执行过程（注意bcc要求内核版本&gt;=4.1)</td>
</tr>
</tbody>
</table>

<h2 id="toc_1">内存性能工具</h2>

<table>
<thead>
<tr>
<th>性能指标</th>
<th>性能工具</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>系统已用、可用、剩余内存</td>
<td>free vmstat sar /proc/meminfo</td>
<td>free最为简单，而vmstat sar更为全面；/proc/meminfo是其他工具的数据来源，也常用于监控系统中</td>
</tr>
<tr>
<td>进程虚拟内存、常驻内存、共享内存</td>
<td>ps top pidstat /proc/pid/stat /proc/pid/status</td>
<td>ps和top最简单，而pidstat则需要加上-r选项；/proc/pid/stat和/proc/pid/status是其他工具的数据来源，也常用于监控系统中</td>
</tr>
<tr>
<td>进程内存分布</td>
<td>Pmap /proc/pid/maps</td>
<td>/proc/pid/maps是pmap的数据来源</td>
</tr>
<tr>
<td>进程swap换出内存</td>
<td>top /proc/pid/status</td>
<td>/proc/pid/status是top的数据来源</td>
</tr>
<tr>
<td>进程缺页异常</td>
<td>ps top pidstat</td>
<td>注意给pidstat 加上-r选项</td>
</tr>
<tr>
<td>系统换页情况</td>
<td>sar</td>
<td>注意加上-B选项</td>
</tr>
<tr>
<td>缓存 / 缓冲区使用量</td>
<td>free vmstat sar cachestat</td>
<td>vmstat最常用，而cachestat需要安装bcc</td>
</tr>
<tr>
<td>缓存 / 缓冲区命中率</td>
<td>cachetop</td>
<td>需要安装bcc</td>
</tr>
<tr>
<td>SWAP已使用空间和剩余空间</td>
<td>Free sar</td>
<td>free最为简单，而sar还可以记录历史</td>
</tr>
<tr>
<td>swap换入换出</td>
<td>vmsata sar</td>
<td>vmstat最为简单，而sar还可以记录历史</td>
</tr>
<tr>
<td>内存泄露检测</td>
<td>Memleak valgrind</td>
<td>memleak需要安装bcc，valgrind还可以在旧版本（如3.x）内核中使用</td>
</tr>
<tr>
<td>指定文件的缓存大小</td>
<td>pcstat</td>
<td>需要从源码下载安装</td>
</tr>
</tbody>
</table>

<h2 id="toc_2">文件系统和磁盘I/O性能工具</h2>

<table>
<thead>
<tr>
<th style="text-align: center">性能指标</th>
<th style="text-align: center">性能工具</th>
<th style="text-align: center">说明</th>
<th></th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: center">文件系统空间容量、使用量以及剩余空间</td>
<td style="text-align: center">df</td>
<td style="text-align: center">详细文档可以执行info coreutils ‘df invocation&#39;命令查询</td>
<td></td>
</tr>
<tr>
<td style="text-align: center">索引节点容量、使用量以及剩余量</td>
<td style="text-align: center">df</td>
<td style="text-align: center">注意加上-i选项</td>
<td></td>
</tr>
<tr>
<td style="text-align: center">页缓存和可回收Slab缓存</td>
<td style="text-align: center">/proc/meminfo  sar vmstat</td>
<td style="text-align: center">注意sar需要加上-r选项，而/proc/meminfo是其他工具的数据来源，也常用于监控</td>
<td></td>
</tr>
<tr>
<td style="text-align: center">缓冲区</td>
<td style="text-align: center">同上</td>
<td style="text-align: center">同上</td>
<td></td>
</tr>
<tr>
<td style="text-align: center">目录项，索引节点以及文件系统的缓存</td>
<td style="text-align: center">/proc/slabinfo  slabtop</td>
<td style="text-align: center">slabtop更直观，而/proc/slabinfo常用于监控</td>
<td></td>
</tr>
<tr>
<td style="text-align: center">磁盘I/O使用率，iops，吞吐量，响应时间，I/O平均大小以有等待队列长度</td>
<td style="text-align: center">iostat sar dstat /proc/diskstats</td>
<td style="text-align: center">iostat是常用，注意使用iostat -d -x或sar -d选项；/proc/diskstat则是其他工具数据来源，也常用于监控</td>
<td></td>
</tr>
<tr>
<td style="text-align: center">进程I/O大小以及I/O延迟</td>
<td style="text-align: center">pidstat iotop</td>
<td style="text-align: center">注意使用pidstat -d选项</td>
<td></td>
</tr>
<tr>
<td style="text-align: center">块设备I/O事件跟踪</td>
<td style="text-align: center">bltrace</td>
<td style="text-align: center">需要跟blkparse配合使用，比如bltrace -d /dev/sda -o                             bltrace -i</td>
<td></td>
</tr>
<tr>
<td style="text-align: center">进程I/O系统调用跟踪</td>
<td style="text-align: center">strace perf trace</td>
<td style="text-align: center">strace只可以跟踪单个进程，而perf trace还可以跟踪所有进程的系统调用</td>
<td></td>
</tr>
<tr>
<td style="text-align: center">进程块设备I/O大小跟踪</td>
<td style="text-align: center">biosnoop biotop</td>
<td style="text-align: center">安装bcc</td>
<td></td>
</tr>
<tr>
<td style="text-align: center">动态追踪</td>
<td style="text-align: center">ftrace bcc systemtap</td>
<td style="text-align: center">ftrace用户跟踪内核函数调用栈，而bcc和systemtap则用于跟踪内核或应用程序的执行过程（注意bcc要求内核版本&gt;=4.1)</td>
<td></td>
</tr>
</tbody>
</table>

<h2 id="toc_3">网络性能工具</h2>

<table>
<thead>
<tr>
<th>性能指标</th>
<th>性能工具</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>吞吐量（BPS）</td>
<td>sar nethogs iftop /proc/net/dev</td>
<td>分别可以查看网络接口，进程以及IP地址的网络吞吐量；/proc/net/dev常用于监控</td>
</tr>
<tr>
<td>吞吐量（PPS）</td>
<td>sar /proc/net/dev</td>
<td>注意使用sar -n DEV选项</td>
</tr>
<tr>
<td>网络连接数</td>
<td>netstat ss</td>
<td>ss速度更快</td>
</tr>
<tr>
<td>网络错误数</td>
<td>netsta sar</td>
<td>注意使用netstat -s或者sar -n EDEV/EIP选项</td>
</tr>
<tr>
<td>网络延迟</td>
<td>Ping hping3</td>
<td>ping基于ICMP 而hping3则基于TCP协议</td>
</tr>
<tr>
<td>连接跟踪数</td>
<td>conntrack /proc/sys/net/netfilter/nf_conntrack_count  /proc/sys/net/netfilter/nf_conntrack_max</td>
<td>Conntrack可用来查看所有连接跟踪的相关信息 Nf_conntrack_count只是连接跟踪的数量，而nf_conntrack_max则限制了总的连接跟踪数量</td>
</tr>
<tr>
<td>路由</td>
<td>mtr traceroute route</td>
<td>route用于查询路由表，而mtr和traceroute则用来排查和定位网络链路中的路由问题</td>
</tr>
<tr>
<td>DNS</td>
<td>dig nslookup</td>
<td>用于排查DNS解析的问题</td>
</tr>
<tr>
<td>防火墙和NAT</td>
<td>iptables</td>
<td>用于排查防火墙及NAT的问题</td>
</tr>
<tr>
<td>网卡选项</td>
<td>ethtool</td>
<td>用于查看和配置网络接口的项目选项</td>
</tr>
<tr>
<td>网络抓包</td>
<td>tcpdump wireshark</td>
<td>通常在服务器中使用tcpdump抓包后再复制出来用wireshark的图形界面分析</td>
</tr>
<tr>
<td>动态追踪</td>
<td>Ftrace bcc systemtap</td>
<td>ftrace用于跟踪内核函数调用栈，而bcc和systemtap则用于跟踪或应用程序的执行过程（注意bcc要求内核&gt;=4.1)</td>
</tr>
</tbody>
</table>

<h1 id="toc_4">总结</h1>

<p>记录一下常用的linux工具</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[linux 1.常用性能指标及USE法分类]]></title>
    <link href="http://www.shengsheng.net/15869595689820.html"/>
    <updated>2020-04-15T22:06:08+08:00</updated>
    <id>http://www.shengsheng.net/15869595689820.html</id>
    <content type="html"><![CDATA[
<h1 id="toc_0">CPU 性能指标</h1>

<h2 id="toc_1">cpu使用率</h2>

<ul>
<li>用户cpu</li>
<li>系统cpu</li>
<li>IOWAIT</li>
<li>软中断</li>
<li>硬中断</li>
<li>窃取cpu</li>
<li>客户cpu</li>
</ul>

<h2 id="toc_2">上下文切换</h2>

<ul>
<li>自愿上下文切换</li>
<li>非自愿上下文切换</li>
</ul>

<h2 id="toc_3">平均负载</h2>

<h2 id="toc_4">cpu缓存命中率</h2>

<h1 id="toc_5">内存性能指标</h1>

<h2 id="toc_6">系统内存指标</h2>

<ul>
<li>已用内存</li>
<li>剩余内存</li>
<li>可用内存</li>
<li>缺页异常</li>
<li>     主缺页异常</li>
<li>     次缺页异常</li>
<li>缓存/ 缓冲区</li>
<li>     使用量</li>
<li>     命中率</li>
<li>Slabs</li>
</ul>

<h2 id="toc_7">进程内存指标</h2>

<ul>
<li>虚拟内存（VSS）</li>
<li>常驻内存（RSS）</li>
<li>按比例分配共享内存后的物理内存(PSS）</li>
<li>独占内存（USS)</li>
<li>共享内存</li>
<li>SWAP内存</li>
<li>缺页异常
<ol>
<li>主缺页异常</li>
<li>次缺页异常</li>
</ol></li>
</ul>

<h2 id="toc_8">SWAP</h2>

<p>已用空间<br/>
剩余空间<br/>
换入速度<br/>
换出速度</p>

<h1 id="toc_9">常用指标分类（USE法）</h1>

<table>
<thead>
<tr>
<th>资源</th>
<th>类型</th>
<th>性能指标</th>
</tr>
</thead>

<tbody>
<tr>
<td>CPU</td>
<td>使用率</td>
<td>CPU使用率</td>
</tr>
<tr>
<td>CPU</td>
<td>饱和度</td>
<td>运行队列长度或平均负载</td>
</tr>
<tr>
<td>CPU</td>
<td>错误数</td>
<td>硬件CPU错误数</td>
</tr>
<tr>
<td>内存</td>
<td>使用率</td>
<td>已用内存百分比或SWAP用量百分比</td>
</tr>
<tr>
<td>内存</td>
<td>饱和度</td>
<td>内存换页量</td>
</tr>
<tr>
<td>内存</td>
<td>错误数</td>
<td>内存分配失败或OOM</td>
</tr>
<tr>
<td>存储设备I/O</td>
<td>使用率</td>
<td>设备I/O时间百分比</td>
</tr>
<tr>
<td>存储设备I/O</td>
<td>饱和度</td>
<td>等待队列长度或延迟</td>
</tr>
<tr>
<td>存储设备I/O</td>
<td>错误数</td>
<td>I/O错误数</td>
</tr>
<tr>
<td>文件系统</td>
<td>使用率</td>
<td>已用容量百分比</td>
</tr>
<tr>
<td>文件系统</td>
<td>错误数</td>
<td>文件读写错误数</td>
</tr>
<tr>
<td>网络</td>
<td>使用率</td>
<td>带宽使用率</td>
</tr>
<tr>
<td>网络</td>
<td>饱和度</td>
<td>重传报文数</td>
</tr>
<tr>
<td>网络</td>
<td>错误数</td>
<td>网卡收发错误数、丢包数</td>
</tr>
<tr>
<td>文件描述符</td>
<td>使用率</td>
<td>已用文件描述符数百分比</td>
</tr>
<tr>
<td>连接跟踪</td>
<td>使用率</td>
<td>已用连接跟踪数百分比</td>
</tr>
<tr>
<td>连接数</td>
<td>饱和度</td>
<td>TIMEWAIT状态连接数</td>
</tr>
</tbody>
</table>

<h1 id="toc_10">I/O性能指标</h1>

<h2 id="toc_11">文件系统</h2>

<p>存储空间容量、使用量以及剩余空间<br/>
索引节点容量、使用量以及剩余量<br/>
缓存<br/>
    页缓存<br/>
    目录项缓存<br/>
    索引节点缓存<br/>
    具体文件系统缓存（如ext4的缓存）<br/>
IOPS（文件I/O）<br/>
响应时间（延迟）<br/>
吞吐量（B/S）</p>

<h2 id="toc_12">磁盘</h2>

<p>使用率<br/>
IOPS<br/>
吞吐量（B/S）<br/>
响应时间（延迟）<br/>
缓冲区<br/>
相关因素<br/>
    读写类型（如顺序还是随机）<br/>
    读写比例<br/>
    读写大小<br/>
    存储类型（如RAID级别、本地还是网络）</p>

<h1 id="toc_13">网络性能指标</h1>

<h2 id="toc_14">应用层</h2>

<p>QPS（每秒请求数）<br/>
套接字缓冲区大小<br/>
DNS解析延迟<br/>
响应时间<br/>
错误数</p>

<h2 id="toc_15">传输层</h2>

<p>tcp连接数<br/>
    全连接<br/>
    半连接<br/>
    TIMEWAIT<br/>
连接跟踪数<br/>
重传数<br/>
丢包数<br/>
延迟</p>

<h2 id="toc_16">网络层</h2>

<p>丢包数<br/>
TTL<br/>
拆包</p>

<h2 id="toc_17">链路层</h2>

<p>PPS（每秒网络帧数）<br/>
BPS（每秒字节数）<br/>
丢包数<br/>
错误数</p>

<h1 id="toc_18">总结</h1>

<p>把极客时间LINUX手册变成MD给大家查看  <sup>_^</sup><br/>
<img src="media/15869595689820/15869605756641.jpg" alt=""/></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[php method函数命名空间]]></title>
    <link href="http://www.shengsheng.net/15868258856753.html"/>
    <updated>2020-04-14T08:58:05+08:00</updated>
    <id>http://www.shengsheng.net/15868258856753.html</id>
    <content type="html"><![CDATA[
<p>最近会用到method_exists函数，判断是否存在此方法，但是调用出了点异常。</p>

<h1 id="toc_0">原因</h1>

<pre><code class="language-text">use \app\model\ParseAstModel
ParseAstModel::FunctionExpression();
if(method_exists(&#39;ParseAstModel&#39;,&#39;FunctionExpression&#39;))
{
    echo &#39;此方法存在&#39;.lr;
}else{
    echo &#39;此方法不存在&#39;.lr;
}
</code></pre>

<p>结果输出此方法不存在</p>

<h1 id="toc_1">处理</h1>

<p>Description<br/>
<code><br/>
method_exists ( mixed $object , string $method_name ) : bool<br/>
Checks if the class method exists in the given object.<br/>
</code><br/>
object<br/>
An object instance or a class name</p>

<p>method_name<br/>
The method name</p>

<p>查看函数描述比较简单，主要填对象名称和方法名称即可<br/>
函数内部查找不找寻外面的命名空间，故改成<br/>
<code><br/>
if(method_exists(&#39;\app\model\ParseAstModel&#39;,&#39;FunctionExpression&#39;))<br/>
</code><br/>
类似这类型的函数，要看清楚手册调用的对象，没new对象的情况下，要写全路径。</p>

<p>还有找到更相似的函数么？ <sup>_^</sup></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[kindle开不了机的处理]]></title>
    <link href="http://www.shengsheng.net/15863602108178.html"/>
    <updated>2020-04-08T23:36:50+08:00</updated>
    <id>http://www.shengsheng.net/15863602108178.html</id>
    <content type="html"><![CDATA[
<p>有大概两个月没使用kindle了，没电，画面空白。<br/>
<img src="media/15863602108178/15863602894299.jpg" alt=""/></p>

<p>按电源一直开不了机</p>

<h1 id="toc_0">解决方案</h1>

<p>插上电源的情况下，长按30面，等一下就显示启动界面。<br/>
<img src="media/15863602108178/15863603294798.jpg" alt=""/></p>

<p>还好没变砖头哈！</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[框架增加restful api功能]]></title>
    <link href="http://www.shengsheng.net/15844429076069.html"/>
    <updated>2020-03-17T19:01:47+08:00</updated>
    <id>http://www.shengsheng.net/15844429076069.html</id>
    <content type="html"><![CDATA[
<p>由于项目中使用自已开发的php框架，发现没有restful功能.</p>

<h1 id="toc_0">restful架构</h1>

<p>如下图，简单的CURD功能,以资源为定位</p>

<pre><code class="language-text">class Blog
{
    /**
     * 显示资源列表
     *
     * @return \think\Response
     */
    public function index()
    {
        $list = Blogs::all();
        return json($list);
    }

    /**
     * 保存新建的资源
     *
     * @param  \think\Request  $request
     * @return \think\Response
     */
    public function save(Request $request)
    {
        $data   = $request-&gt;param();
        $result = Blogs::create($data);
        return json($result);
    }

    /**
     * 显示指定的资源
     *
     * @param  int  $id
     * @return \think\Response
     */
    public function read($id)
    {
        $data = Blogs::get($id);
        return json($data);
    }

    /**
     * 保存更新的资源
     *
     * @param  \think\Request  $request
     * @param  int  $id
     * @return \think\Response
     */
    public function update(Request $request, $id)
    {
        $data   = $request-&gt;param();
        $result = Blogs::update($data, [&#39;id&#39; =&gt; $id]);
        return json($result);
    }

    /**
     * 删除指定资源
     *
     * @param  int  $id
     * @return \think\Response
     */
    public function delete($id)
    {
        $result = Blogs::destroy($id);
        return json($result);
    }
}
</code></pre>

<h1 id="toc_1">框架的更新</h1>

<p>框架比较简单<br/>
url.com/{control}/{action} 或 url.com/index.php/{control}/{action}即可访问<br/>
我们要实现用户系统的用户添加，通过有资源有<br/>
查看全部用户 /user/read/<br/>
查看指定用户 /user/read/1<br/>
更新指定用户 /user/edit/1<br/>
删除指定用户 /user/delete/1<br/>
除了control和action的path，其实后面便可以按顺序注入<br/>
<img src="media/15844429076069/15844432269462.jpg" alt=""/></p>

<p>把path后台的参数，注入进去即可。</p>

<p><img src="media/15844429076069/15844432799215.jpg" alt=""/></p>

<p>功能如下：</p>

<p><img src="media/15844429076069/15844434785503.jpg" alt=""/></p>

<h1 id="toc_2">PHP_INO</h1>

<p>有些朋友忘记设置nginx的php info功能,是用不了/index.php/index/index这种的</p>

<h3 id="toc_3">关键配置</h3>

<pre><code class="language-text">fastcgi_split_path_info       ^(.+\.php)(.*)$;
fastcgi_param SCRIPT_FILENAME /path/to/php$fastcgi_script_name;
fastcgi_param PATH_INFO       $fastcgi_path_info;
</code></pre>

<h3 id="toc_4">完整配置:</h3>

<pre><code class="language-text">location ~ [^/]\.php(/|$) {
        fastcgi_pass 172.20.0.3:9000;
        #fastcgi_pass unix:/var/run/php5-fpm.sock;
        fastcgi_index index.php;
        include fastcgi_params;
        fastcgi_split_path_info       ^(.+\.php)(.*)$;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        fastcgi_param PATH_INFO       $fastcgi_path_info;
    }

</code></pre>

<h3 id="toc_5">php.ini配置文件</h3>

<p><code><br/>
cgi.fix_pathinfo=0   ;这个要设置为0<br/>
</code></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[git初始化项目]]></title>
    <link href="http://www.shengsheng.net/15843561632702.html"/>
    <updated>2020-03-16T18:56:03+08:00</updated>
    <id>http://www.shengsheng.net/15843561632702.html</id>
    <content type="html"><![CDATA[
<p>由于在git上新建每次都要git clone下来，再提交代码。实际不用这么麻烦<br/>
具体操作如下</p>

<pre><code class="language-text"># 当前项目目录
# 注册删除之前的.git (rm -rf .git) 

git init

git remote add origin 仓库地址

git pull origin master:master

git push -u origin master


git add -A
git commit -m &#39;&#39;
git push --set-upstream origin master
</code></pre>

<p>仓库地址，如果是加了ssh-key,需使用账号地址：<a href="mailto:git@git.com">git@git.com</a>:abc/test，使用http会默认读取账号密码:<a href="http://xx.com/abc/test">http://xx.com/abc/test</a></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[苹果mac系统mysql的关闭]]></title>
    <link href="http://www.shengsheng.net/15839060425442.html"/>
    <updated>2020-03-11T13:54:02+08:00</updated>
    <id>http://www.shengsheng.net/15839060425442.html</id>
    <content type="html"><![CDATA[
<p>因为可视化的开发操作，需本地安装mysql client<br/>
故一套命令安装好所有brew install mysql.<br/>
下次重新启动的时候，自动启动了mysql server服务<br/>
本地的开发环境主要是docker映射本地的端口<br/>
docker start mysql,3306被本地端口占用，故启动失败。</p>

<p>上网搜索了一下资料，mysql的启动主要是以下:</p>

<pre><code class="language-text">sudo /usr/local/mysql/support-files/mysql.server start
sudo /usr/local/mysql/support-files/mysql.server stop
sudo /usr/local/mysql/support-files/mysql.server restart
</code></pre>

<p>这时候我们执行 .../mysql.server stop 是失败的<br/>
<img src="media/15839060425442/15839065007011.jpg" alt=""/></p>

<p>提示没有找到pid文件<br/>
分析一下本地mysql.server文件</p>

<pre><code class="language-text">mysqld_pid=`cat &quot;$mysqld_pid_file_path&quot;`
</code></pre>

<p>脚本根据写在本地的pid记录来关闭mysql<br/>
发现脚本的\(mysql_pid_file_path在/usr/local/mysql/data之下。<br/>
但/usr/local/mysql/data没权限进入<br/>
给一定权限即可<br/>
现在的进程，只能ps aux|grep mysql来分析进程id<br/>
暂时只能手动kill一下<br/>
kill \)mysql_id<br/>
之后使用</p>

<pre><code class="language-text">sudo /usr/local/mysql/support-files/mysql.server stop
docker start mysql
</code></pre>

<p>就很顺利了</p>

<h1 id="toc_0">思考点</h1>

<p>遇到的朋友可以思考怎么关闭系统自启动mysql server服务。</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[微信开发者工具项目导入的问题]]></title>
    <link href="http://www.shengsheng.net/15838982474217.html"/>
    <updated>2020-03-11T11:44:07+08:00</updated>
    <id>http://www.shengsheng.net/15838982474217.html</id>
    <content type="html"><![CDATA[
<p>这两天运营老是跟我说，怎么研发打的包，导入老是出现AppId更改的情况，明明project.config.js设置的appid不是这个&quot;wx6ac3f5090a6b99c5&quot;</p>

<p><img src="media/15838982474217/15838984019592.jpg" alt=""/></p>

<h1 id="toc_0">研究</h1>

<p>研究一番，确实会出现此问题，不可能每次导入都修改一次appid吧。<br/>
使用compare对比工具对比一下没问题的项目，发现有一行明显不一样。<br/>
<img src="media/15838982474217/15838985171442.jpg" alt=""/></p>

<p>嗯,isGameTourist,这行去掉或改为false,微信开发者工具导入就没问题了，会自动加上。</p>

<h1 id="toc_1">结论</h1>

<p>经英语翻译，isGameTourist 是否观察的意思。那么true就是观察代码的查看了，所以默认使用官方的wx6ac3f5090a6b99c5，isGameTourist这个参数默认就是false,所以去掉就读取你原来配置的appid参数了。</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[php简单分析能否买房]]></title>
    <link href="http://www.shengsheng.net/15837651337922.html"/>
    <updated>2020-03-09T22:45:33+08:00</updated>
    <id>http://www.shengsheng.net/15837651337922.html</id>
    <content type="html"><![CDATA[
<p>上一年打算买房，故上一年11月的时候写个了程序来分析一下前期大概需要多少钱，或能承受的范围。<br/>
不买房不知道，打折的规则基本9.8折，应筹更便宜点，还有税和维修基金等费用哈，有空的朋友可以补充上。</p>

<pre><code class="language-text">&lt;?php
/**
 * 房子首付计算
 * Author:show
 */


    $mix = [
//  &#39;75&#39;,
    &#39;86&#39;,&#39;110&#39;,&#39;120&#39;
    ];
    foreach($mix as $key=&gt;$val)
    {
        //30%首付
        for($i=1.6;$i&lt;=2.6;$i+=0.1)
        {
            //假设首付是30%
            $sum = $val * $i;
            $sum2 = ($sum - 3) * 0.98 * 0.96 * 0.98;
            $downpay = $sum2 * 0.3;
            $loans = $sum2 - $downpay;
            echo &quot;平方：{$val},单价：[{$i}w],[总价]：{$sum} [减3万订金 0.98*0.96*0.98打折后总价]：{$sum2}w,打折后首付：{$downpay},打折后贷款:{$loans}w\n&quot;;
        }
        echo &quot;======================================\n&quot;;
        
        //20 30年(360期）
        //年利率 = 日利率 * 360  = 月利率 * 12. :如果日利率为万分之五，那么年利率就是0.0005*360=18%
        //0.18/360 = 0.0005
        //公积金3.25 商业4.9 5.45
        //先计算等额本息
        //67万公积金贷 
        // 利息=本金*利率*存期
        
    }
?&gt;
</code></pre>

<h1 id="toc_0">运行结果</h1>

<p><img src="media/15837651337922/15837652685497.jpg" alt="" style="width:984px;"/></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[戴尔主机服务器版上的坑]]></title>
    <link href="http://www.shengsheng.net/15837639036208.html"/>
    <updated>2020-03-09T22:25:03+08:00</updated>
    <id>http://www.shengsheng.net/15837639036208.html</id>
    <content type="html"><![CDATA[
<p>最近朋友送我一台戴尔t130主机，这台服务器版配置还是挺高的，cpu E6,8G内存。 128 ssd + 4T raid 1。<br/>
但服务版，分辨率实在是低。故需增加独显。</p>

<h1 id="toc_0">踩坑</h1>

<p>服务器相比普通主机，缺少以下：</p>

<ol>
<li>独显</li>
<li>无线wifi</li>
<li>声卡</li>
</ol>

<p>原本以为装上显卡，就可以顺畅玩玩。起码分辨率高点，看得也舒服点。<br/>
附上第一次显卡截图<br/>
<img src="media/15837639036208/15837641504042.jpg" alt="" style="width:614px;"/></p>

<p>其它配件：<br/>
<img src="media/15837639036208/15837641759551.jpg" alt="" style="width:525px;"/></p>

<p><img src="media/15837639036208/15837642400336.jpg" alt="" style="width:635px;"/></p>

<p>因为办公用原因，不用太高端的显卡（主要因为穷）。接上显卡之后，显示器黑屏。问客服原因，该显卡不支持品牌机，ok，申请退货。</p>

<p>故我再选择第二款好点的显卡<br/>
<img src="media/15837639036208/15837643160244.jpg" alt="" style="width:585px;"/></p>

<p>经过网上查资料，该主机开机只能使用vga显示，进入界面成功.<br/>
在设备管理器禁用集显的启动，顺利切换到hdmi高清分辨率。</p>

<p><img src="media/15837639036208/15837644347248.jpg" alt=""/></p>

<p><img src="media/15837639036208/15837644420414.jpg" alt=""/></p>

<p><img src="media/15837639036208/15837644485155.jpg" alt=""/></p>

<p>尝试过bios禁用集显启动，换来的是一直卡在自检界面。进入不了，再切回来。</p>

<h1 id="toc_1">坑2</h1>

<p>虽然独显使用成功了，但主机内的风扇超级大声。这是因为这主板pci-e插糟有东西就一定会触发。</p>

<h1 id="toc_2">解决</h1>

<p>还好，戴尔有idrac远程管理功能。在bios上开启一下，并启用pci1的vlan功能，设置上ip。使用网线直接链接该pci1网线口。设置同一网端即可。<br/>
没必要买idrac扩展哈。</p>

<p><img src="media/15837639036208/15837647037986.jpg" alt="" style="width:379px;"/></p>

<h1 id="toc_3">idrac默认设置</h1>

<p>账号：root<br/>
密码：calvin<br/>
IP：192.168.0.120</p>

<p><code><br/>
ipmitool -I lanplus -H IDRAC网口 iP -U 用户名 -P 密码 raw 0x30 0xce 0x00 0x16 0x05 0x00 0x00 0x00 0x05 0x00 0x01 0x00 0x00<br/>
</code><br/>
ipmitool功能，即可减少风扇转速。<br/>
ipmitool在mac下直接<br/>
<code><br/>
brew install ipmitool<br/>
</code><br/>
<img src="media/15837639036208/15837648289587.jpg" alt="" style="width:576px;"/></p>

<h1 id="toc_4">参考链接</h1>

<ul>
<li><a href="https://jingyan.baidu.com/article/6c67b1d64f567b2787bb1e02.html">https://jingyan.baidu.com/article/6c67b1d64f567b2787bb1e02.html</a></li>
<li><a href="https://www.chiphell.com/thread-1653396-1-1.html">https://www.chiphell.com/thread-1653396-1-1.html</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/92259408">https://zhuanlan.zhihu.com/p/92259408</a></li>
<li><a href="https://www.dell.com/community/PowerEdge%E6%9C%8D%E5%8A%A1%E5%99%A8/T630%E5%A1%94%E5%BC%8F%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8A%A0%E8%A3%85GPU%E5%99%AA%E9%9F%B3%E9%9D%9E%E5%B8%B8%E5%A4%A7/m-p/6035279#M9648">https://www.dell.com/community/PowerEdge%E6%9C%8D%E5%8A%A1%E5%99%A8/T630%E5%A1%94%E5%BC%8F%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8A%A0%E8%A3%85GPU%E5%99%AA%E9%9F%B3%E9%9D%9E%E5%B8%B8%E5%A4%A7/m-p/6035279#M9648</a></li>
<li><a href="https://www.dell.com/community/PowerEdge%E6%9C%8D%E5%8A%A1%E5%99%A8/%E6%B1%82%E5%8A%A9-R720xd%E5%BC%80%E6%9C%BA%E8%BF%9B%E5%85%A5%E7%B3%BB%E7%BB%9F%E5%90%8E%E9%A3%8E%E6%89%87%E5%A5%BD%E5%93%8D/m-p/6127205#M10642">https://www.dell.com/community/PowerEdge%E6%9C%8D%E5%8A%A1%E5%99%A8/%E6%B1%82%E5%8A%A9-R720xd%E5%BC%80%E6%9C%BA%E8%BF%9B%E5%85%A5%E7%B3%BB%E7%BB%9F%E5%90%8E%E9%A3%8E%E6%89%87%E5%A5%BD%E5%93%8D/m-p/6127205#M10642</a></li>
<li><a href="https://blog.51cto.com/xiaocuik/1975216">https://blog.51cto.com/xiaocuik/1975216</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[算法训练营]]></title>
    <link href="http://www.shengsheng.net/15831470834324.html"/>
    <updated>2020-03-02T19:04:43+08:00</updated>
    <id>http://www.shengsheng.net/15831470834324.html</id>
    <content type="html"><![CDATA[
<p>两个月的算法学习，更新一下算法总结</p>

<h2 id="toc_0">相关文档</h2>

<p><a href="https://naotu.baidu.com/file/b832f043e2ead159d584cca4efb19703?token=7a6a56eb2630548c">数据结构</a><br/>
<a href="https://naotu.baidu.com/file/0a53d3a5343bd86375f348b2831d3610?token=5ab1de1c90d5f3ec">算法</a><br/>
<a href="https://markhneedham.com/blog/2008/09/15/clean-code-book-review/">自顶向下的编程方式</a><br/>
<a href="https://www.zhihu.com/question/21387264">算法复杂度</a><br/>
<a href="https://www.bigocheatsheet.com/">时间复杂度</a></p>

<h2 id="toc_1">算法题汇总</h2>

<h3 id="toc_2">第一周</h3>

<p>两数之和题目： <a href="https://leetcode-cn.com/problems/two-sum/">https://leetcode-cn.com/problems/two-sum/</a><br/>
Array 实战题目<br/>
<a href="https://leetcode-cn.com/problems/container-with-most-water/">https://leetcode-cn.com/problems/container-with-most-water/</a><br/>
<a href="https://leetcode-cn.com/problems/move-zeroes/">https://leetcode-cn.com/problems/move-zeroes/</a><br/>
<a href="https://leetcode.com/problems/climbing-stairs/">https://leetcode.com/problems/climbing-stairs/</a><br/>
<a href="https://leetcode-cn.com/problems/3sum/">https://leetcode-cn.com/problems/3sum/</a> (高频老题）<br/>
Linked List 实战题目<br/>
<a href="https://leetcode.com/problems/reverse-linked-list/">https://leetcode.com/problems/reverse-linked-list/</a><br/>
<a href="https://leetcode.com/problems/swap-nodes-in-pairs">https://leetcode.com/problems/swap-nodes-in-pairs</a><br/>
<a href="https://leetcode.com/problems/linked-list-cycle">https://leetcode.com/problems/linked-list-cycle</a><br/>
<a href="https://leetcode.com/problems/linked-list-cycle-ii">https://leetcode.com/problems/linked-list-cycle-ii</a><br/>
<a href="https://leetcode.com/problems/reverse-nodes-in-k-group/">https://leetcode.com/problems/reverse-nodes-in-k-group/</a><br/>
课后作业<br/>
<a href="https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array/">https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array/</a><br/>
<a href="https://leetcode-cn.com/problems/rotate-array/">https://leetcode-cn.com/problems/rotate-array/</a><br/>
<a href="https://leetcode-cn.com/problems/merge-two-sorted-lists/">https://leetcode-cn.com/problems/merge-two-sorted-lists/</a><br/>
<a href="https://leetcode-cn.com/problems/merge-sorted-array/">https://leetcode-cn.com/problems/merge-sorted-array/</a><br/>
<a href="https://leetcode-cn.com/problems/two-sum/">https://leetcode-cn.com/problems/two-sum/</a><br/>
<a href="https://leetcode-cn.com/problems/move-zeroes/">https://leetcode-cn.com/problems/move-zeroes/</a><br/>
<a href="https://leetcode-cn.com/problems/plus-one/">https://leetcode-cn.com/problems/plus-one/</a></p>

<p>预习题目<br/>
<a href="https://leetcode-cn.com/problems/valid-parentheses/">https://leetcode-cn.com/problems/valid-parentheses/</a><br/>
<a href="https://leetcode-cn.com/problems/min-stack/">https://leetcode-cn.com/problems/min-stack/</a><br/>
实战题目<br/>
<a href="https://leetcode-cn.com/problems/largest-rectangle-in-histogram">https://leetcode-cn.com/problems/largest-rectangle-in-histogram</a><br/>
<a href="https://leetcode-cn.com/problems/sliding-window-maximum">https://leetcode-cn.com/problems/sliding-window-maximum</a><br/>
课后作业<br/>
用 add first 或 add last 这套新的 API 改写 Deque 的代码<br/>
分析 Queue 和 Priority Queue 的源码<br/>
<a href="https://leetcode.com/problems/design-circular-deque">https://leetcode.com/problems/design-circular-deque</a><br/>
<a href="https://leetcode.com/problems/trapping-rain-water/">https://leetcode.com/problems/trapping-rain-water/</a></p>

<h3 id="toc_3">第二周</h3>

<p><a href="https://leetcode-cn.com/problems/valid-anagram/description/">https://leetcode-cn.com/problems/valid-anagram/description/</a><br/>
<a href="https://leetcode-cn.com/problems/group-anagrams/">https://leetcode-cn.com/problems/group-anagrams/</a><br/>
<a href="https://leetcode-cn.com/problems/two-sum/description/">https://leetcode-cn.com/problems/two-sum/description/</a></p>

<p><a href="https://leetcode-cn.com/problems/binary-tree-inorder-traversal/">https://leetcode-cn.com/problems/binary-tree-inorder-traversal/</a><br/>
<a href="https://leetcode-cn.com/problems/binary-tree-preorder-traversal/">https://leetcode-cn.com/problems/binary-tree-preorder-traversal/</a><br/>
<a href="https://leetcode-cn.com/problems/n-ary-tree-postorder-traversal/">https://leetcode-cn.com/problems/n-ary-tree-postorder-traversal/</a><br/>
<a href="https://leetcode-cn.com/problems/n-ary-tree-preorder-traversal/">https://leetcode-cn.com/problems/n-ary-tree-preorder-traversal/</a><br/>
<a href="https://leetcode-cn.com/problems/n-ary-tree-level-order-traversal/">https://leetcode-cn.com/problems/n-ary-tree-level-order-traversal/</a></p>

<p>实战题目<br/>
<a href="https://leetcode-cn.com/problems/climbing-stairs/">https://leetcode-cn.com/problems/climbing-stairs/</a><br/>
<a href="https://leetcode-cn.com/problems/generate-parentheses/">https://leetcode-cn.com/problems/generate-parentheses/</a><br/>
<a href="https://leetcode-cn.com/problems/invert-binary-tree/description/">https://leetcode-cn.com/problems/invert-binary-tree/description/</a><br/>
<a href="https://leetcode-cn.com/problems/validate-binary-search-tree">https://leetcode-cn.com/problems/validate-binary-search-tree</a><br/>
<a href="https://leetcode-cn.com/problems/maximum-depth-of-binary-tree">https://leetcode-cn.com/problems/maximum-depth-of-binary-tree</a><br/>
<a href="https://leetcode-cn.com/problems/minimum-depth-of-binary-tree">https://leetcode-cn.com/problems/minimum-depth-of-binary-tree</a><br/>
<a href="https://leetcode-cn.com/problems/serialize-and-deserialize-binary-tree/">https://leetcode-cn.com/problems/serialize-and-deserialize-binary-tree/</a><br/>
每日一课<br/>
如何优雅地计算斐波那契数列<br/>
课后作业<br/>
<a href="https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-tree/">https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-tree/</a><br/>
<a href="https://leetcode-cn.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal">https://leetcode-cn.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal</a><br/>
<a href="https://leetcode-cn.com/problems/combinations/">https://leetcode-cn.com/problems/combinations/</a><br/>
<a href="https://leetcode-cn.com/problems/permutations/">https://leetcode-cn.com/problems/permutations/</a><br/>
<a href="https://leetcode-cn.com/problems/permutations-ii/">https://leetcode-cn.com/problems/permutations-ii/</a></p>

<p><a href="https://leetcode-cn.com/problems/powx-n/">https://leetcode-cn.com/problems/powx-n/</a><br/>
<a href="https://leetcode-cn.com/problems/subsets/">https://leetcode-cn.com/problems/subsets/</a></p>

<p><a href="https://leetcode-cn.com/problems/majority-element/description/">https://leetcode-cn.com/problems/majority-element/description/</a> （简单、但是高频）<br/>
<a href="https://leetcode-cn.com/problems/letter-combinations-of-a-phone-number/">https://leetcode-cn.com/problems/letter-combinations-of-a-phone-number/</a><br/>
<a href="https://leetcode-cn.com/problems/n-queens/">https://leetcode-cn.com/problems/n-queens/</a></p>

<h3 id="toc_4">第三周</h3>

<p>实战题目<br/>
<a href="https://leetcode-cn.com/problems/binary-tree-level-order-traversal/#/description">https://leetcode-cn.com/problems/binary-tree-level-order-traversal/#/description</a><br/>
<a href="https://leetcode-cn.com/problems/minimum-genetic-mutation/#/description">https://leetcode-cn.com/problems/minimum-genetic-mutation/#/description</a><br/>
<a href="https://leetcode-cn.com/problems/generate-parentheses/#/description">https://leetcode-cn.com/problems/generate-parentheses/#/description</a><br/>
<a href="https://leetcode-cn.com/problems/find-largest-value-in-each-tree-row/#/description">https://leetcode-cn.com/problems/find-largest-value-in-each-tree-row/#/description</a><br/>
课后作业<br/>
<a href="https://leetcode-cn.com/problems/word-ladder/description/">https://leetcode-cn.com/problems/word-ladder/description/</a><br/>
<a href="https://leetcode-cn.com/problems/word-ladder-ii/description/">https://leetcode-cn.com/problems/word-ladder-ii/description/</a><br/>
<a href="https://leetcode-cn.com/problems/number-of-islands/">https://leetcode-cn.com/problems/number-of-islands/</a><br/>
<a href="https://leetcode-cn.com/problems/minesweeper/description/">https://leetcode-cn.com/problems/minesweeper/description/</a></p>

<p><a href="https://leetcode-cn.com/problems/lemonade-change/description/">https://leetcode-cn.com/problems/lemonade-change/description/</a><br/>
<a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/description/">https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/description/</a><br/>
<a href="https://leetcode-cn.com/problems/assign-cookies/description/">https://leetcode-cn.com/problems/assign-cookies/description/</a><br/>
<a href="https://leetcode-cn.com/problems/walking-robot-simulation/description/">https://leetcode-cn.com/problems/walking-robot-simulation/description/</a><br/>
<a href="https://leetcode-cn.com/problems/jump-game/">https://leetcode-cn.com/problems/jump-game/</a> 、 <a href="https://leetcode-cn.com/problems/jump-game-ii/">https://leetcode-cn.com/problems/jump-game-ii/</a></p>

<p>实战题目<br/>
<a href="https://leetcode-cn.com/problems/sqrtx/">https://leetcode-cn.com/problems/sqrtx/</a><br/>
<a href="https://leetcode-cn.com/problems/valid-perfect-square/">https://leetcode-cn.com/problems/valid-perfect-square/</a><br/>
课后作业<br/>
<a href="https://leetcode-cn.com/problems/search-in-rotated-sorted-array/">https://leetcode-cn.com/problems/search-in-rotated-sorted-array/</a><br/>
<a href="https://leetcode-cn.com/problems/search-a-2d-matrix/">https://leetcode-cn.com/problems/search-a-2d-matrix/</a><br/>
<a href="https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array/">https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array/</a></p>

<h3 id="toc_5">第四周</h3>

<p>期中考</p>

<h3 id="toc_6">第五周</h3>

<p><a href="https://leetcode-cn.com/problems/climbing-stairs/description/">https://leetcode-cn.com/problems/climbing-stairs/description/</a><br/>
<a href="https://leetcode-cn.com/problems/triangle/description/">https://leetcode-cn.com/problems/triangle/description/</a><br/>
<a href="https://leetcode.com/problems/triangle/discuss/38735/Python-easy-to-understand-solutions-(top-down-bottom-up)">https://leetcode.com/problems/triangle/discuss/38735/Python-easy-to-understand-solutions-(top-down-bottom-up)</a><br/>
<a href="https://leetcode-cn.com/problems/maximum-subarray/">https://leetcode-cn.com/problems/maximum-subarray/</a><br/>
<a href="https://leetcode-cn.com/problems/maximum-product-subarray/description/">https://leetcode-cn.com/problems/maximum-product-subarray/description/</a><br/>
<a href="https://leetcode-cn.com/problems/coin-change/description/">https://leetcode-cn.com/problems/coin-change/description/</a></p>

<p><a href="https://leetcode-cn.com/problems/climbing-stairs/description/">https://leetcode-cn.com/problems/climbing-stairs/description/</a><br/>
<a href="https://leetcode-cn.com/problems/triangle/description/">https://leetcode-cn.com/problems/triangle/description/</a><br/>
<a href="https://leetcode.com/problems/triangle/discuss/38735/Python-easy-to-understand-solutions-(top-down-bottom-up)">https://leetcode.com/problems/triangle/discuss/38735/Python-easy-to-understand-solutions-(top-down-bottom-up)</a><br/>
<a href="https://leetcode-cn.com/problems/maximum-subarray/">https://leetcode-cn.com/problems/maximum-subarray/</a><br/>
<a href="https://leetcode-cn.com/problems/maximum-product-subarray/description/">https://leetcode-cn.com/problems/maximum-product-subarray/description/</a><br/>
<a href="https://leetcode-cn.com/problems/coin-change/description/">https://leetcode-cn.com/problems/coin-change/description/</a></p>

<p>实战题目<br/>
<a href="https://leetcode-cn.com/problems/house-robber/">https://leetcode-cn.com/problems/house-robber/</a><br/>
<a href="https://leetcode-cn.com/problems/house-robber-ii/description/">https://leetcode-cn.com/problems/house-robber-ii/description/</a><br/>
<a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/#/description">https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/#/description</a><br/>
<a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/">https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/</a><br/>
<a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iii/">https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iii/</a><br/>
<a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/">https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/</a><br/>
<a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iv/">https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iv/</a><br/>
<a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/">https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/</a><br/>
<a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/solution/yi-ge-fang-fa-tuan-mie-6-dao-gu-piao-wen-ti-by-l-3/">https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/solution/yi-ge-fang-fa-tuan-mie-6-dao-gu-piao-wen-ti-by-l-3/</a><br/>
高级 DP 实战题目<br/>
<a href="https://leetcode-cn.com/problems/perfect-squares/">https://leetcode-cn.com/problems/perfect-squares/</a><br/>
<a href="https://leetcode-cn.com/problems/edit-distance/">https://leetcode-cn.com/problems/edit-distance/</a> （重点）<br/>
<a href="https://leetcode-cn.com/problems/jump-game/">https://leetcode-cn.com/problems/jump-game/</a><br/>
<a href="https://leetcode-cn.com/problems/jump-game-ii/">https://leetcode-cn.com/problems/jump-game-ii/</a><br/>
<a href="https://leetcode-cn.com/problems/unique-paths/">https://leetcode-cn.com/problems/unique-paths/</a><br/>
<a href="https://leetcode-cn.com/problems/unique-paths-ii/">https://leetcode-cn.com/problems/unique-paths-ii/</a><br/>
<a href="https://leetcode-cn.com/problems/unique-paths-iii/">https://leetcode-cn.com/problems/unique-paths-iii/</a><br/>
<a href="https://leetcode-cn.com/problems/coin-change/">https://leetcode-cn.com/problems/coin-change/</a><br/>
<a href="https://leetcode-cn.com/problems/coin-change-2/">https://leetcode-cn.com/problems/coin-change-2/</a><br/>
注意：请大家先消化前面的实战题目，高级 DP 的方法和题解会在课程后面解锁。</p>

<p>课后作业<br/>
<a href="https://leetcode-cn.com/problems/longest-valid-parentheses/">https://leetcode-cn.com/problems/longest-valid-parentheses/</a><br/>
<a href="https://leetcode-cn.com/problems/minimum-path-sum/">https://leetcode-cn.com/problems/minimum-path-sum/</a><br/>
<a href="https://leetcode-cn.com/problems/edit-distance/">https://leetcode-cn.com/problems/edit-distance/</a><br/>
<a href="https://leetcode-cn.com/problems/decode-ways">https://leetcode-cn.com/problems/decode-ways</a><br/>
<a href="https://leetcode-cn.com/problems/maximal-square/">https://leetcode-cn.com/problems/maximal-square/</a><br/>
<a href="https://leetcode-cn.com/problems/max-sum-of-rectangle-no-larger-than-k/">https://leetcode-cn.com/problems/max-sum-of-rectangle-no-larger-than-k/</a><br/>
<a href="https://leetcode-cn.com/problems/frog-jump/">https://leetcode-cn.com/problems/frog-jump/</a><br/>
<a href="https://leetcode-cn.com/problems/split-array-largest-sum">https://leetcode-cn.com/problems/split-array-largest-sum</a><br/>
<a href="https://leetcode-cn.com/problems/student-attendance-record-ii/">https://leetcode-cn.com/problems/student-attendance-record-ii/</a><br/>
<a href="https://leetcode-cn.com/problems/task-scheduler/">https://leetcode-cn.com/problems/task-scheduler/</a><br/>
<a href="https://leetcode-cn.com/problems/palindromic-substrings/">https://leetcode-cn.com/problems/palindromic-substrings/</a><br/>
<a href="https://leetcode-cn.com/problems/minimum-window-substring/">https://leetcode-cn.com/problems/minimum-window-substring/</a><br/>
<a href="https://leetcode-cn.com/problems/burst-balloons/">https://leetcode-cn.com/problems/burst-balloons/</a></p>

<h3 id="toc_7">第六周</h3>

<p><a href="https://leetcode-cn.com/problems/implement-trie-prefix-tree/#/description">https://leetcode-cn.com/problems/implement-trie-prefix-tree/#/description</a><br/>
<a href="https://leetcode-cn.com/problems/word-search-ii/">https://leetcode-cn.com/problems/word-search-ii/</a></p>

<p><a href="https://leetcode-cn.com/problems/friend-circles">https://leetcode-cn.com/problems/friend-circles</a><br/>
<a href="https://leetcode-cn.com/problems/number-of-islands/">https://leetcode-cn.com/problems/number-of-islands/</a><br/>
<a href="https://leetcode-cn.com/problems/surrounded-regions/">https://leetcode-cn.com/problems/surrounded-regions/</a></p>

<p><a href="https://leetcode-cn.com/problems/climbing-stairs/">https://leetcode-cn.com/problems/climbing-stairs/</a><br/>
<a href="https://leetcode-cn.com/problems/generate-parentheses/">https://leetcode-cn.com/problems/generate-parentheses/</a><br/>
<a href="https://leetcode-cn.com/problems/n-queens">https://leetcode-cn.com/problems/n-queens</a><br/>
<a href="https://leetcode-cn.com/problems/valid-sudoku/description/">https://leetcode-cn.com/problems/valid-sudoku/description/</a><br/>
<a href="https://leetcode-cn.com/problems/sudoku-solver/#/description">https://leetcode-cn.com/problems/sudoku-solver/#/description</a></p>

<p><a href="https://leetcode-cn.com/problems/word-ladder/">https://leetcode-cn.com/problems/word-ladder/</a><br/>
<a href="https://leetcode-cn.com/problems/minimum-genetic-mutation/">https://leetcode-cn.com/problems/minimum-genetic-mutation/</a></p>

<p>实战题目<br/>
<a href="https://leetcode-cn.com/problems/shortest-path-in-binary-matrix/">https://leetcode-cn.com/problems/shortest-path-in-binary-matrix/</a><br/>
<a href="https://leetcode-cn.com/problems/sliding-puzzle/">https://leetcode-cn.com/problems/sliding-puzzle/</a><br/>
<a href="https://leetcode-cn.com/problems/sudoku-solver/">https://leetcode-cn.com/problems/sudoku-solver/</a></p>

<h3 id="toc_8">第七周</h3>

<p><a href="https://leetcode-cn.com/problems/number-of-1-bits/">https://leetcode-cn.com/problems/number-of-1-bits/</a><br/>
<a href="https://leetcode-cn.com/problems/power-of-two/">https://leetcode-cn.com/problems/power-of-two/</a><br/>
<a href="https://leetcode-cn.com/problems/reverse-bits/">https://leetcode-cn.com/problems/reverse-bits/</a><br/>
<a href="https://leetcode-cn.com/problems/n-queens/description/">https://leetcode-cn.com/problems/n-queens/description/</a><br/>
<a href="https://leetcode-cn.com/problems/n-queens-ii/description/">https://leetcode-cn.com/problems/n-queens-ii/description/</a><br/>
<a href="https://leetcode-cn.com/problems/counting-bits/description/">https://leetcode-cn.com/problems/counting-bits/description/</a></p>

<p><a href="https://leetcode-cn.com/problems/lru-cache/#/">https://leetcode-cn.com/problems/lru-cache/#/</a></p>

<p><a href="https://leetcode-cn.com/problems/relative-sort-array/">https://leetcode-cn.com/problems/relative-sort-array/</a><br/>
<a href="https://leetcode-cn.com/problems/valid-anagram/">https://leetcode-cn.com/problems/valid-anagram/</a><br/>
<a href="https://leetcode-cn.com/problems/design-a-leaderboard/">https://leetcode-cn.com/problems/design-a-leaderboard/</a><br/>
<a href="https://leetcode-cn.com/problems/merge-intervals/">https://leetcode-cn.com/problems/merge-intervals/</a><br/>
<a href="https://leetcode-cn.com/problems/reverse-pairs/">https://leetcode-cn.com/problems/reverse-pairs/</a></p>

<h3 id="toc_9">第八周</h3>

<p><a href="https://leetcode-cn.com/problems/longest-increasing-subsequence/">https://leetcode-cn.com/problems/longest-increasing-subsequence/</a><br/>
<a href="https://leetcode-cn.com/problems/decode-ways/">https://leetcode-cn.com/problems/decode-ways/</a><br/>
<a href="https://leetcode-cn.com/problems/longest-valid-parentheses/">https://leetcode-cn.com/problems/longest-valid-parentheses/</a><br/>
<a href="https://leetcode-cn.com/problems/maximal-rectangle/">https://leetcode-cn.com/problems/maximal-rectangle/</a><br/>
<a href="https://leetcode-cn.com/problems/distinct-subsequences/">https://leetcode-cn.com/problems/distinct-subsequences/</a><br/>
<a href="https://leetcode-cn.com/problems/race-car/">https://leetcode-cn.com/problems/race-car/</a></p>

<p>字符串基础问题<br/>
<a href="https://leetcode-cn.com/problems/to-lower-case/">https://leetcode-cn.com/problems/to-lower-case/</a><br/>
<a href="https://leetcode-cn.com/problems/length-of-last-word/">https://leetcode-cn.com/problems/length-of-last-word/</a><br/>
<a href="https://leetcode-cn.com/problems/jewels-and-stones/">https://leetcode-cn.com/problems/jewels-and-stones/</a><br/>
<a href="https://leetcode-cn.com/problems/first-unique-character-in-a-string/">https://leetcode-cn.com/problems/first-unique-character-in-a-string/</a><br/>
<a href="https://leetcode-cn.com/problems/string-to-integer-atoi/">https://leetcode-cn.com/problems/string-to-integer-atoi/</a><br/>
字符串操作问题<br/>
<a href="https://leetcode-cn.com/problems/longest-common-prefix/description/">https://leetcode-cn.com/problems/longest-common-prefix/description/</a><br/>
<a href="https://leetcode-cn.com/problems/reverse-string">https://leetcode-cn.com/problems/reverse-string</a><br/>
<a href="https://leetcode-cn.com/problems/reverse-string-ii/">https://leetcode-cn.com/problems/reverse-string-ii/</a><br/>
<a href="https://leetcode-cn.com/problems/reverse-words-in-a-string/">https://leetcode-cn.com/problems/reverse-words-in-a-string/</a><br/>
<a href="https://leetcode-cn.com/problems/reverse-words-in-a-string-iii/">https://leetcode-cn.com/problems/reverse-words-in-a-string-iii/</a><br/>
<a href="https://leetcode-cn.com/problems/reverse-only-letters/">https://leetcode-cn.com/problems/reverse-only-letters/</a><br/>
异位词问题<br/>
<a href="https://leetcode-cn.com/problems/valid-anagram/">https://leetcode-cn.com/problems/valid-anagram/</a><br/>
<a href="https://leetcode-cn.com/problems/group-anagrams/">https://leetcode-cn.com/problems/group-anagrams/</a><br/>
<a href="https://leetcode-cn.com/problems/find-all-anagrams-in-a-string/">https://leetcode-cn.com/problems/find-all-anagrams-in-a-string/</a><br/>
回文串问题<br/>
<a href="https://leetcode-cn.com/problems/valid-palindrome/">https://leetcode-cn.com/problems/valid-palindrome/</a><br/>
<a href="https://leetcode-cn.com/problems/valid-palindrome-ii/">https://leetcode-cn.com/problems/valid-palindrome-ii/</a><br/>
<a href="https://leetcode-cn.com/problems/longest-palindromic-substring/">https://leetcode-cn.com/problems/longest-palindromic-substring/</a></p>

<p>最长子串、子序列问题<br/>
<a href="https://leetcode-cn.com/problems/longest-common-subsequence/">https://leetcode-cn.com/problems/longest-common-subsequence/</a><br/>
<a href="https://leetcode-cn.com/problems/edit-distance/">https://leetcode-cn.com/problems/edit-distance/</a><br/>
<a href="https://leetcode-cn.com/problems/longest-palindromic-substring/">https://leetcode-cn.com/problems/longest-palindromic-substring/</a><br/>
字符串 +DP 问题<br/>
<a href="https://leetcode-cn.com/problems/regular-expression-matching/">https://leetcode-cn.com/problems/regular-expression-matching/</a><br/>
<a href="https://leetcode-cn.com/problems/regular-expression-matching/solution/ji-yu-guan-fang-ti-jie-gen-xiang-xi-de-jiang-jie-b/">https://leetcode-cn.com/problems/regular-expression-matching/solution/ji-yu-guan-fang-ti-jie-gen-xiang-xi-de-jiang-jie-b/</a><br/>
<a href="https://leetcode-cn.com/problems/wildcard-matching/">https://leetcode-cn.com/problems/wildcard-matching/</a><br/>
<a href="https://leetcode-cn.com/problems/distinct-subsequences/">https://leetcode-cn.com/problems/distinct-subsequences/</a></p>

<p>课后作业<br/>
<a href="https://leetcode-cn.com/problems/first-unique-character-in-a-string/">https://leetcode-cn.com/problems/first-unique-character-in-a-string/</a><br/>
<a href="https://leetcode-cn.com/problems/string-to-integer-atoi/">https://leetcode-cn.com/problems/string-to-integer-atoi/</a><br/>
<a href="https://leetcode-cn.com/problems/reverse-string-ii/">https://leetcode-cn.com/problems/reverse-string-ii/</a><br/>
<a href="https://leetcode-cn.com/problems/reverse-words-in-a-string/">https://leetcode-cn.com/problems/reverse-words-in-a-string/</a><br/>
<a href="https://leetcode-cn.com/problems/reverse-words-in-a-string-iii/">https://leetcode-cn.com/problems/reverse-words-in-a-string-iii/</a><br/>
<a href="https://leetcode-cn.com/problems/reverse-only-letters/">https://leetcode-cn.com/problems/reverse-only-letters/</a><br/>
<a href="https://leetcode-cn.com/problems/find-all-anagrams-in-a-string/">https://leetcode-cn.com/problems/find-all-anagrams-in-a-string/</a><br/>
<a href="https://leetcode-cn.com/problems/longest-palindromic-substring/">https://leetcode-cn.com/problems/longest-palindromic-substring/</a><br/>
<a href="https://leetcode-cn.com/problems/isomorphic-strings/">https://leetcode-cn.com/problems/isomorphic-strings/</a><br/>
<a href="https://leetcode-cn.com/problems/valid-palindrome-ii/">https://leetcode-cn.com/problems/valid-palindrome-ii/</a><br/>
<a href="https://leetcode-cn.com/problems/wildcard-matching">https://leetcode-cn.com/problems/wildcard-matching</a><br/>
<a href="https://leetcode-cn.com/problems/longest-valid-parentheses">https://leetcode-cn.com/problems/longest-valid-parentheses</a><br/>
<a href="https://leetcode-cn.com/problems/distinct-subsequences/">https://leetcode-cn.com/problems/distinct-subsequences/</a></p>

<p>做完国内站查看相关题解之后，要到国际站看看国际高手的题解。</p>

<h1 id="toc_10">代码模板</h1>

<p>待更新</p>

<h1 id="toc_11">其它</h1>

<p>最后晒晒自己在极客的毕业证书<br/>
<img src="media/15831470834324/15831485775250.jpg" alt=""/></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[切换linux数据源]]></title>
    <link href="http://www.shengsheng.net/15831463679623.html"/>
    <updated>2020-03-02T18:52:47+08:00</updated>
    <id>http://www.shengsheng.net/15831463679623.html</id>
    <content type="html"><![CDATA[
<p>由于打算上docker容器里修改一些服务，但没有vim，实在用得麻烦。<br/>
但直接apt-get install vim是不行的，因为容器还是比较精简的linux。<br/>
于是有了以下命令<br/>
<code><br/>
apt-get update<br/>
</code><br/>
实在忍受不了国外镜像的速度，需要切换一下。</p>

<h1 id="toc_0">具体操作</h1>

<p>使用网易163的镜像源<br/>
<code><br/>
http://mirrors.163.com<br/>
</code><br/>
查看本地系统版本命令：<br/>
<code><br/>
cat /etc/debian_version<br/>
cat /etc/os-release<br/>
</code><br/>
<img src="media/15831463679623/15831465636406.jpg" alt=""/></p>

<p>使用命令得知，我们的系统是9,即VERSION_CODENAME,stretch<br/>
为了稳定安全，操作前备份一下我们的原始镜像配置<br/>
<code><br/>
cp sources.list sources.list_bak<br/>
</code><br/>
往我们的/etc/apt/sources.list修改成新的镜像源<br/>
<code><br/>
echo &quot;deb http://mirrors.163.com/debian/ stretch main non-free contrib&quot; &gt; /etc/apt/sources.list<br/>
echo &quot;deb http://mirrors.163.com/debian-security stretch/updates main&quot; &gt;&gt; /etc/apt/sources.list<br/>
echo &quot;deb http://mirrors.163.com/debian stretch-updates main&quot; &gt; /etc/apt/sources.list<br/>
</code><br/>
再次update安装<br/>
<code><br/>
apt-get update<br/>
apt-get install vim<br/>
</code><br/>
最后一个“爽”字来形容。</p>

<h1 id="toc_1">其它像像源</h1>

<p>1.企业贡献：<br/>
 搜狐开源镜像站：<a href="http://mirrors.sohu.com/">http://mirrors.sohu.com/</a><br/>
网易开源镜像站：<a href="http://mirrors.163.com/">http://mirrors.163.com/</a><br/>
2.大学教学：<br/>
 北京理工大学：<br/>
<a href="http://mirror.bit.edu.cn">http://mirror.bit.edu.cn</a> (IPv4 only)<br/>
<a href="http://mirror.bit6.edu.cn">http://mirror.bit6.edu.cn</a> (IPv6 only)<br/>
北京交通大学：<br/>
<a href="http://mirror.bjtu.edu.cn">http://mirror.bjtu.edu.cn</a> (IPv4 only)<br/>
<a href="http://mirror6.bjtu.edu.cn">http://mirror6.bjtu.edu.cn</a> (IPv6 only)<br/>
<a href="http://debian.bjtu.edu.cn">http://debian.bjtu.edu.cn</a> (IPv4+IPv6)<br/>
兰州大学：<a href="http://mirror.lzu.edu.cn/">http://mirror.lzu.edu.cn/</a><br/>
厦门大学：<a href="http://mirrors.xmu.edu.cn/">http://mirrors.xmu.edu.cn/</a><br/>
上海交通大学：<br/>
<a href="http://ftp.sjtu.edu.cn/">http://ftp.sjtu.edu.cn/</a> (IPv4 only)<br/>
<a href="http://ftp6.sjtu.edu.cn">http://ftp6.sjtu.edu.cn</a> (IPv6 only)<br/>
清华大学：<br/>
<a href="http://mirrors.tuna.tsinghua.edu.cn/">http://mirrors.tuna.tsinghua.edu.cn/</a> (IPv4+IPv6)<br/>
<a href="http://mirrors.6.tuna.tsinghua.edu.cn/">http://mirrors.6.tuna.tsinghua.edu.cn/</a> (IPv6 only)<br/>
<a href="http://mirrors.4.tuna.tsinghua.edu.cn/">http://mirrors.4.tuna.tsinghua.edu.cn/</a> (IPv4 only)<br/>
天津大学：<a href="http://mirror.tju.edu.cn/">http://mirror.tju.edu.cn/</a><br/>
中国科学技术大学：<br/>
<a href="http://mirrors.ustc.edu.cn/">http://mirrors.ustc.edu.cn/</a> (IPv4+IPv6)<br/>
<a href="http://mirrors4.ustc.edu.cn/">http://mirrors4.ustc.edu.cn/</a><br/>
<a href="http://mirrors6.ustc.edu.cn/">http://mirrors6.ustc.edu.cn/</a><br/>
西南大学：<a href="http://linux.swu.edu.cn/swudownload/Distributions/">http://linux.swu.edu.cn/swudownload/Distributions/</a><br/>
东北大学：<br/>
<a href="http://mirror.neu.edu.cn/">http://mirror.neu.edu.cn/</a> (IPv4 only)<br/>
<a href="http://mirror.neu6.edu.cn/">http://mirror.neu6.edu.cn/</a> (IPv6 only)<br/>
电子科技大学：<a href="http://ubuntu.uestc.edu.cn/">http://ubuntu.uestc.edu.cn/</a><br/>
青岛大学：<a href="http://mirror.qdu.edu.cn/">http://mirror.qdu.edu.cn/</a></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[docker mysql5.6切5.7发生的异常]]></title>
    <link href="http://www.shengsheng.net/15831455058973.html"/>
    <updated>2020-03-02T18:38:25+08:00</updated>
    <id>http://www.shengsheng.net/15831455058973.html</id>
    <content type="html"><![CDATA[
<p>由于某项目需要用到 mysql 5.7的新功能json类型的字段<br/>
为了快速搭建,做了不太稳定的做法。<br/>
我的myql是映射到本地的 ~/code/mysql<br/>
<code><br/>
docker pull mysql/5.7<br/>
</code><br/>
下载好mysql5.7之后，停掉5.6<br/>
直接把mysql5.7的数据映射到本地<br/>
<code><br/>
docker run -it -d --volumes-from codedata --network docker_mynetwork --ip 172.20.0.7 -v /Users/pengyongsheng/code/mysql:/var/lib/mysql -p 3306:3306 --name mysql57 -e MYSQL_USER=root -e MYSQL_PASSWORD=root -e MYSQL_ROOT_PASSWORD=root mysql:5.7<br/>
</code></p>

<p><img src="media/15831455058973/15831456759323.jpg" alt=""/></p>

<h1 id="toc_0">事故</h1>

<p>一开始的运行还很正确的，后面出现打开不了tables;<br/>
Navicat for mysql 打开只能查看到information_schema数据库，而且只剩下CHARACTER_SETS。</p>

<h1 id="toc_1">解决方案</h1>

<ol>
<li>先将本地的~/code/mysql 重命名~/code/mysql2数据文件夹备份一下<br/>
把~/code/mysql清空，删除mysql5.7容器后，重新挂载，这时候产生了新的文件夹数据。</li>
<li><p>把备份的好的数据库文件~/code/msyql2里的数据库重新拷贝到~/code/mysql目录下。<br/>
打开查看，其实是能正常查看到数据库了。成功了第一步。<br/>
<img src="media/15831455058973/15831459908580.jpg" alt=""/></p></li>
<li><p>进一步打开数据库的table , 提示 Table &#39;&#39; doesn&#39;t exist 。<br/>
嗯。。遇到了新问题。 经查找资源，innodb的问题。停掉服务后，将mysql2的ibdata1文件夹拷到mysql数据文件夹中。这样，问题得到了解决。<br/>
<img src="media/15831455058973/15831462501495.jpg" alt=""/></p></li>
</ol>

<h1 id="toc_2">总结</h1>

<ol>
<li>mysql的升级，因为数据会记录版本和服务器的原因，不能直接切换容器，要么在原来的容器上升级mysql server。 </li>
<li>使用Innodb会产生三个文件<br/>
.ibd：包含每个table的数据和索引<br/>
.frm：用来描述table的结构等<br/>
ibdata1：包含所有table的字典和历史操作<br/>
ibdata1文件会记录MySQL中所有InnoDB数据库中table的字典和历史操作,所以要copy ibdata1文件过来。</li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[linux更新服务器时间]]></title>
    <link href="http://www.shengsheng.net/15829031335030.html"/>
    <updated>2020-02-28T23:18:53+08:00</updated>
    <id>http://www.shengsheng.net/15829031335030.html</id>
    <content type="html"><![CDATA[
<p>运营凌晨的时候录入规则，发现录入的规则有异常，查看得知获取的时间异常<br/>
<img src="media/15829031335030/15829032171296.jpg" alt=""/></p>

<p>默认linux的时区使用了 UTC<br/>
而中国的时区是CST<br/>
因为我是使用docker镜像上运行php,所以得去镜像里面更新一下</p>

<h1 id="toc_0">进入镜像</h1>

<p><code><br/>
docker -it php-fpm /bin/bash<br/>
</code></p>

<h1 id="toc_1">更新时间</h1>

<pre><code class="language-text">1. 安装ntpdate工具
sudo apt-get install ntpdate
2. 设置系统时间与网络时间同步
ntpdate cn.pool.ntp.org  或者 sudo ntpdate time.stdtime.gov.tw
#cn.pool.ntp.org是位于中国的公共NTP服务器 
</code></pre>

<h1 id="toc_2">更新时间失败</h1>

<pre><code class="language-text">root@6fc515dfb754:~# ntpdate us.pool.ntp.org
3 Nov 09:30:06 ntpdate[966]: Can&#39;t adjust the time of day: Operation not permitted
cp -f /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
</code></pre>

<h1 id="toc_3">php的配置</h1>

<h3 id="toc_4">php.ini</h3>

<pre><code class="language-text">[Date]
date.timezone = &quot;asia/shanghai&quot;
</code></pre>

<h3 id="toc_5">代码控制</h3>

<pre><code class="language-text">&lt;?php
date_default_timezone_set(&#39;Asia/Shanghai&#39;);
</code></pre>

<p>终所述，必须严格查看一下环境上的时间。</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[划动验证码的破解]]></title>
    <link href="http://www.shengsheng.net/15823712934354.html"/>
    <updated>2020-02-22T19:34:53+08:00</updated>
    <id>http://www.shengsheng.net/15823712934354.html</id>
    <content type="html"><![CDATA[
<p>最近需要获取某些信息，但每次页面都要滑动一次验证码实在太烦了，so研究一下破解方案。</p>

<h1 id="toc_0">使用的技术</h1>

<ul>
<li>python3</li>
<li>opencv</li>
<li>pymydb</li>
<li>selenium</li>
</ul>

<h1 id="toc_1">效果</h1>

<p><a href="media/15823712934354/1582371835327952.mp4">1582371835327952</a></p>

<h1 id="toc_2">核心思路</h1>

<p>1) 使用selenium加载网站，定位到验证码的iframe<br/>
2) 背景版，缺口图，使用opencv灰度图像分析出缺口位置。</p>

<pre><code class="language-text">result = cv2.matchTemplate(target, template, cv2.TM_CCOEFF_NORMED)
x, y = np.unravel_index(result.argmax(), result.shape)
</code></pre>

<p>3) 控制验证码的滑块到指定位置。<br/>
4) 代理ip的使用，因为对于ip访问次数太多，验证码就算滑中了，也是不正确的。</p>

<h1 id="toc_3">具体代码</h1>

<pre><code class="language-text">#!/usr/bin/env python
# encoding: utf-8

import random
import time
import os
import cv2
import ssl
import pymysql
import urllib.request
import numpy as np
from PIL import Image
from selenium.webdriver import ActionChains
from selenium.webdriver import Chrome
from selenium.webdriver import ChromeOptions
from selenium.webdriver.support.ui import WebDriverWait
class Login(object):
    &quot;&quot;&quot;
    python + seleniuum + cv2
    &quot;&quot;&quot;
    def __init__(self,proxyIP=&#39;&#39;):
        # 如果是实际应用中，可在此处账号和密码
        self.option = ChromeOptions()
        # 不加ip，模拟验证码可能有问题
        if(proxyIP):
            self.option.add_argument(&quot;--proxy-server=&quot;+proxyIP);
        self.option.add_argument(&#39;--headless&#39;);
        self.option.add_experimental_option(&#39;excludeSwitches&#39;, [&#39;enable-automation&#39;])
        self.driver = Chrome(options=self.option)
    
    def seturl(self,url):
        self.url = url;
    
    @staticmethod
    def get_postion(otemp, oblk):
        &quot;&quot;&quot;
        判断缺口位置
        :param chunk: 缺口图片是原图
        :param canves:
        :return: 位置 x, y
        &quot;&quot;&quot;
        target = cv2.imread(otemp, 0)
        template = cv2.imread(oblk, 0)
        # w, h = target.shape[::-1]
        temp = &#39;temp.jpg&#39;
        targ = &#39;targ.jpg&#39;
        #imwrite
        cv2.imwrite(temp, template)
        cv2.imwrite(targ, target)
        
        target = cv2.imread(targ)
        target = cv2.cvtColor(target, cv2.COLOR_BGR2GRAY)
        target = abs(255 - target)
        
        cv2.imwrite(targ, target)
        target = cv2.imread(targ)
        template = cv2.imread(temp)
        result = cv2.matchTemplate(target, template, cv2.TM_CCOEFF_NORMED)
        x, y = np.unravel_index(result.argmax(), result.shape)
        return x, y

    @staticmethod
    def get_track(distance):
        tracks = []
        distance = int(distance);
        tracks.append(distance)
        return tracks;

    @staticmethod
    def urllib_download(imgurl, imgsavepath):
        from urllib.request import urlretrieve
        urlretrieve(imgurl, imgsavepath)
        
    def quit2(self):
        self.driver.execute_script(&quot;window.close();&quot;);
        self.driver.switch_to.window(self.driver.window_handles[-1])
        
    def quit(self):
        self.driver.quit();
        
    def login_main(self, driver):
        driver.switch_to.default_content()
        #滑块iframe
        driver.switch_to.frame(driver.find_element_by_tag_name(&quot;iframe&quot;))
        # 大图
        bk_block = driver.find_element_by_xpath(&#39;//img[@id=&quot;slideBkg&quot;]&#39;)  
        web_image_width = bk_block.size
        web_image_width = web_image_width[&#39;width&#39;]
        bk_block_x = bk_block.location[&#39;x&#39;]
     # 小滑块
        slide_block = driver.find_element_by_xpath(&#39;//img[@id=&quot;slideBlock&quot;]&#39;)  
        slide_block_x = slide_block.location[&#39;x&#39;]
        bk_block = driver.find_element_by_xpath(&#39;//img[@id=&quot;slideBkg&quot;]&#39;).get_attribute(&#39;src&#39;) # 大图 url
#       print(bk_block);
        slide_block = driver.find_element_by_xpath(&#39;//img[@id=&quot;slideBlock&quot;]&#39;).get_attribute(&#39;src&#39;) # 小滑块 图片url
#       print(slide_block);
        slid_ing = driver.find_element_by_xpath(&#39;//div[@id=&quot;slide_bar_head&quot;]&#39;)  # 滑块

        #下载图片分析
        os.makedirs(&#39;./image/&#39;, exist_ok=True)
        self.urllib_download(bk_block, &#39;./image/bkBlock.png&#39;)
        self.urllib_download(slide_block, &#39;./image/slideBlock.png&#39;)
        time.sleep(0.5)
        img_bkblock = Image.open(&#39;./image/bkBlock.png&#39;)
        bkblock_real_width = img_bkblock.size[0]
        # 滑块宽度/大图背景宽度
        width_scale = float(bkblock_real_width) / float(web_image_width)
        #opencv分析,获取滑块与嵌块的位置
        position = self.get_postion(&#39;./image/bkBlock.png&#39;, &#39;./image/slideBlock.png&#39;)
        real_position = position[1] / width_scale
        real_position = real_position - (slide_block_x - bk_block_x)
        #滑动的轨迹
        track_list = self.get_track(real_position)
        # 点击鼠标左键，按住不放
        ActionChains(driver).click_and_hold(on_element=slid_ing).perform()  
        time.sleep(0.2)
        #拖动滑块
        for track in track_list:
            #移动鼠标到嵌块距离
            ActionChains(driver).move_by_offset(xoffset=track, yoffset=0).perform()
        # 释放鼠标
        ActionChains(driver).release(on_element=slid_ing).perform()

    def main(self):
        driver = self.driver
        driver.maximize_window()
        print(self.url);
        #url 这里开始赋值
        driver.get(self.url)
        time.sleep(4)
        self.login_main(driver)
        driver.switch_to.default_content() #切换主页面
        #获取相关详细信息
        time.sleep(4)
        # 这里获取不了，只能尝试再获取一次验证码的
        try:
            test = driver.find_element_by_class_name(&#39;profile-card-user-info-description&#39;)
            #和对应的id存起来
            content = test.text;  
            return test.text;
        except Exception as e:
            reutrn;
        
#获取代理ip
def getproxyIP():
   # 大家可以找出免费的代码ip
    proxyurl = &quot;xx&quot;;
    response = urllib.request.urlopen(proxyurl)
    proxyIP = response.read();
    proxyIP = proxyIP.decode(&quot;unicode_escape&quot;)
    proxyIP = str(proxyIP);
    return proxyIP;
    
if __name__ == &#39;__main__&#39;:
    ssl._create_default_https_context = ssl._create_unverified_context
    #跑取url的组成
    conn = pymysql.connect(host=&#39;127.0.0.1&#39;, port=3306, user=&#39;root&#39;, passwd=&#39;root&#39;, db=&#39;phpshow&#39;, charset=&#39;utf8mb4&#39;)
    # 创建游标
    cursor = conn.cursor()
    while(1):
        cursor.execute(&quot;select UserId from spider where crawl=&#39;1&#39; and intro is Null limit 10&quot;);
        res = cursor.fetchall();
        if res==False:
            break;
        proxyIP = getproxyIP();
        print(proxyIP);
        #这里要有异常处理
        login = Login(proxyIP)
        for val in res:
            print(val[0]);
            try:
                time.sleep(1);
                #url规则，手动更改
                url = str(&quot;https://xx.com/search/author?keyword=&quot;)+str(val[0])+str(&quot;&amp;page=1&quot;);
                
                login.seturl(url);
                text = login.main()
                print(text);
                if text:
                    print(&quot;update&quot;);
                    cursor2 = conn.cursor();
                    # 表名
                    update_sql = &quot;update xx set intro=&#39;&quot;+str(text)+&quot;&#39; where UserId = &#39;&quot;+str(val[0])+&quot;&#39;&quot;;
                    print(update_sql);
                    tmp = cursor2.execute(update_sql);
                    conn.commit();
                    cursor2.close;
                #退出浏览器
    #           login.quit();
            except Exception as e:
                login.quit2();
                print(&quot;error&quot;);
        login.quit();
        print(&quot;---------------------------&quot;);
    ```
</code></pre>

]]></content>
  </entry>
  
</feed>
