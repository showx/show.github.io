

<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>
      
    --- - shengsheng的博客
    
    </title>
    
    
    
    <link href="atom.xml" rel="alternate" title="shengsheng的博客" type="application/atom+xml">
    <link rel="stylesheet" href="asset/style.css">
    
</head>
  <body>




        <div id="wrapper">
            <header class="site-header">
                <div class="container">
                    <div class="site-title-wrapper">
                          <a class="button-square" href="index.html">
<svg class="svg-inline--fa fa-home fa-w-18" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="home" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" data-fa-i2svg=""><path fill="currentColor" d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"></path></svg>
                            </a>
                        
                         
                        
                        
                        
                        <a class="button-square" href="https://github.com/showx" target="_blank" title="github">
                               <svg class="svg-inline--fa fa-github fa-w-16" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" data-fa-i2svg=""><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg><!-- <i class="fab fa-github fa-lg"></i> -->
                          </a>
                        
                        
                      
                      <a class="button-square" href="atom.xml" target="_blank" title="RSS">
                              <svg class="svg-inline--fa fa-rss fa-w-14" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="rss" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z"></path></svg><!-- <i class="fas fa-rss fa-lg"></i> -->
                      </a>

              
                       
                         
                        
                    </div>

                    <ul class="site-nav">
                        
                    </ul>
                </div>
            </header>

            <div id="container">

 
<div class="container">
  <article class="post-container">
    <header class="post-header">
        <h1 class="post-title">---</h1>
        <p class="post-date">
                <span>Posted <time datetime="2020/02/06" itemprop="datePublished">2020/02/06</time></span>
            </p>
    </header>

    <div class="post-content clearfix">
<p>layout: post<br/>
title: MongoDB (2) 高级查询条件操作符<br/>
date: 2015-04-08 10:07<br/>
author: admin<br/>
comments: true</p>

<h2 id="toc_0">categories: []</h2>

<p>MongoDB 支持多种复杂的查询方式，能实现大多数 T-SQL 功能，远不是 Key-Value 之类的 NoSQL DB 所能比拟的。<br/>
Conditional Operators :<strong> \(slice &lt;/strong&gt;//切片<br/>
Conditional Operators : &lt;strong&gt;\)lt</strong> &lt;, <strong>\(lte&lt;/strong&gt; &amp;lt;=, &lt;strong&gt;\)gt</strong> &gt;, <strong>\(gte&lt;/strong&gt; &amp;gt;=<br/>
Conditional Operator : &lt;strong&gt;\)ne</strong> //不等于<br/>
Conditional Operator : <strong>\(in&lt;/strong&gt; //属于<br/>
Conditional Operator : &lt;strong&gt;\)nin</strong> //不属于<br/>
Conditional Operator : <strong>\(mod&lt;/strong&gt; //取模运算<br/>
Conditional Operator: &lt;strong&gt;  \)all</strong>  //全部属于<br/>
Conditional Operator : <strong>\(size&lt;/strong&gt; //数量<br/>
Conditional Operator: &lt;strong&gt;\)exists</strong> //字段存在<br/>
Conditional Operator: <strong>\(type&lt;/strong&gt; //字段类型<br/>
Conditional Operator: &lt;strong&gt;\)or</strong> // 或<br/>
<strong>Regular Expressions</strong> //正则表达式<br/>
<strong>Value in an Array</strong> // 数组中的值<br/>
Conditional Operator: <strong>\(elemMatch&lt;/strong&gt; //要素符合<br/>
&lt;strong&gt;Value in an Embedded Object&lt;/strong&gt; //内嵌对象中的值<br/>
Meta operator: &lt;strong&gt;\)not</strong> //不是<br/>
Javascript Expressions and<strong> $where</strong> //<br/>
<strong>sort() </strong>//排序<br/>
<strong>limit()</strong> //限制取数据条数<br/>
<strong>skip() </strong>//跳过一定数值开始取<br/>
<strong>snapshot() </strong>//<br/>
<strong>count() </strong>// 数量<br/>
<strong>group()</strong> //分组</p>

<p><strong>准备数据</strong><br/>
<div class="cnblogs_code"><br/>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div><br/>
<div>In [9]: db<br/>
Out[9]: Database(Connection(&#39;localhost&#39;, 27017), u&#39;test&#39;)<br/>
In [10]: table = db.table_abeen<br/>
In [11]: table<br/>
Out[11]: Collection(Database(Connection(&#39;localhost&#39;, 27017), u&#39;test&#39;), u&#39;table_abeen&#39;)</p>

<p>In [12]: table.insert({&quot;name&quot;:&quot;abeen&quot;, &quot;age&quot;:27})<br/>
Sun Aug 8 23:14:20 connection accepted from 127.0.0.1:46143 #27<br/>
Out[12]: ObjectId(&#39;4c5f9cbc421aa90fb9000000&#39;)</p>

<p>In [14]: table.insert({&quot;name&quot;:&quot;shanshan&quot;, &quot;age&quot;:22})<br/>
Out[14]: ObjectId(&#39;4c5f9ccb421aa90fb9000001&#39;)</div><br/>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div><br/>
</div><br/>
<strong>Conditional Operator: \(ne (not equal)&lt;/strong&gt;<br/>
&lt;div class=&quot;cnblogs_code&quot;&gt;<br/>
&lt;div class=&quot;cnblogs_code_toolbar&quot;&gt;&lt;span class=&quot;cnblogs_code_copy&quot;&gt;&lt;a title=&quot;复制代码&quot;&gt;&lt;img src=&quot;http://common.cnblogs.com/images/copycode.gif&quot; alt=&quot;复制代码&quot; /&gt;&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;<br/>
&lt;div&gt;//查找name不等于abeen的信息<br/>
In [24]: list(table.find({&quot;name&quot;:{&quot;\)ne&quot;:&quot;abeen&quot;}}))<br/>
Out[24]:<br/>
[{u&#39;_id&#39;: ObjectId(&#39;4c5f9ccb421aa90fb9000001&#39;),<br/>
u&#39;age&#39;: 22,<br/>
u&#39;name&#39;: u&#39;shanshan&#39;},<br/>
{u&#39;_id&#39;: ObjectId(&#39;4c5f9d2d421aa90fb9000002&#39;),<br/>
u&#39;age&#39;: 22,<br/>
u&#39;name&#39;: u&#39;shanshan2&#39;},<br/>
{u&#39;_id&#39;: ObjectId(&#39;4c5f9d34421aa90fb9000003&#39;),<br/>
u&#39;age&#39;: 23,<br/>
u&#39;name&#39;: u&#39;shanshan3&#39;}]</div><br/>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div><br/>
</div><br/>
<strong>Conditional Operator: \(gt \)lt(gt= greater than, lt=less than)</strong><br/>
<div class="cnblogs_code"><br/>
<div>//查找name不等于abeen,并且age大于22的<br/>
In [29]: list(table.find({&quot;name&quot;: {&quot;\(ne&quot;: &quot;abeen&quot;}, &quot;age&quot;:{&quot;\)gt&quot;: 22}}))<br/>
Out[29]:<br/>
[{u&#39;_id&#39;: ObjectId(&#39;4c5f9d34421aa90fb9000003&#39;),<br/>
u&#39;age&#39;: 23,<br/>
u&#39;name&#39;: u&#39;shanshan3&#39;}]</div><br/>
</div><br/>
<strong>获取子集 \(ne  \)slice</strong><br/>
<div class="cnblogs_code"><br/>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div><br/>
<div>//select &quot;age&quot; from table where name = &quot;abeen&quot;<br/>
In [42]: list(table.find({&quot;name&quot;: &quot;abeen&quot;}, {&quot;age&quot; : 1}))<br/>
Out[42]: [{u&#39;_id&#39;: ObjectId(&#39;4c5f9cbc421aa90fb9000000&#39;), u&#39;age&#39;: 27}]</p>

<p>//get all posts about mongodb without &quot;age&quot;<br/>
In [43]: list(table.find({&quot;name&quot;: &quot;abeen&quot;}, {&quot;age&quot; : 0}))<br/>
Out[43]: [{u&#39;_id&#39;: ObjectId(&#39;4c5f9cbc421aa90fb9000000&#39;), u&#39;name&#39;: u&#39;abeen&#39;}]</p>

<p>//name不等于abeen的&quot;age&quot;信息,取前5条<br/>
In [48]: list(table.find({&quot;name&quot;: {&quot;\(ne&quot;:&quot;abeen&quot;}}, {&quot;age&quot;:{&quot;\)slice&quot;:5}}))<br/>
//取name信息,从第10条开始取20条<br/>
In [54]: list(table.find({}, {&quot;name&quot;: {&quot;\(slice&quot;: [10,20]}}))<br/>
//取name信息,从后20条开始取10条<br/>
In [55]: list(table.find({}, {&quot;name&quot;: {&quot;\)slice&quot;: [-20,10]}}))</div><br/>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div><br/>
</div><br/>
<strong>取数值范围</strong><br/>
<div class="cnblogs_code"><br/>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div><br/>
<div>//age大于23的<br/>
In [56]: list(table.find({&quot;age&quot;:{&quot;$gt&quot;:23}}))<br/>
Out[56]: [{u&#39;_id&#39;: ObjectId(&#39;4c5f9cbc421aa90fb9000000&#39;), u&#39;age&#39;: 27, u&#39;name&#39;: u&#39;abeen&#39;}]</p>

<p>//age小于23的<br/>
In [57]: list(table.find({&quot;age&quot;:{&quot;$lt&quot;:23}}))<br/>
Out[57]:<br/>
[{u&#39;_id&#39;: ObjectId(&#39;4c5f9ccb421aa90fb9000001&#39;),<br/>
u&#39;age&#39;: 22,<br/>
u&#39;name&#39;: u&#39;shanshan&#39;},<br/>
{u&#39;_id&#39;: ObjectId(&#39;4c5f9d2d421aa90fb9000002&#39;),<br/>
u&#39;age&#39;: 22,<br/>
u&#39;name&#39;: u&#39;shanshan2&#39;}]</p>

<p>//age大于等于23的<br/>
In [58]: list(table.find({&quot;age&quot;:{&quot;$gte&quot;:23}}))<br/>
Out[58]:<br/>
[{u&#39;_id&#39;: ObjectId(&#39;4c5f9cbc421aa90fb9000000&#39;), u&#39;age&#39;: 27, u&#39;name&#39;: u&#39;abeen&#39;},<br/>
{u&#39;_id&#39;: ObjectId(&#39;4c5f9d34421aa90fb9000003&#39;),<br/>
u&#39;age&#39;: 23,<br/>
u&#39;name&#39;: u&#39;shanshan3&#39;},<br/>
{u&#39;_id&#39;: ObjectId(&#39;4c5fa2ab421aa90fb9000004&#39;),<br/>
u&#39;address&#39;: u&#39;da zhong si&#39;,<br/>
u&#39;age&#39;: 23,<br/>
u&#39;name&#39;: u&#39;shanshan3&#39;}]</p>

<p>//age小于等于23的<br/>
In [59]: list(table.find({&quot;age&quot;:{&quot;\(lte&quot;:23}}))<br/>
Out[59]:<br/>
[{u&#39;_id&#39;: ObjectId(&#39;4c5f9ccb421aa90fb9000001&#39;),<br/>
u&#39;age&#39;: 22,<br/>
u&#39;name&#39;: u&#39;shanshan&#39;},<br/>
{u&#39;_id&#39;: ObjectId(&#39;4c5f9d2d421aa90fb9000002&#39;),<br/>
u&#39;age&#39;: 22,<br/>
u&#39;name&#39;: u&#39;shanshan2&#39;},<br/>
{u&#39;_id&#39;: ObjectId(&#39;4c5f9d34421aa90fb9000003&#39;),<br/>
u&#39;age&#39;: 23,<br/>
u&#39;name&#39;: u&#39;shanshan3&#39;},<br/>
{u&#39;_id&#39;: ObjectId(&#39;4c5fa2ab421aa90fb9000004&#39;),<br/>
u&#39;address&#39;: u&#39;da zhong si&#39;,<br/>
u&#39;age&#39;: 23,<br/>
u&#39;name&#39;: u&#39;shanshan3&#39;}]&lt;/div&gt;<br/>
&lt;div class=&quot;cnblogs_code_toolbar&quot;&gt;&lt;span class=&quot;cnblogs_code_copy&quot;&gt;&lt;a title=&quot;复制代码&quot;&gt;&lt;img src=&quot;http://common.cnblogs.com/images/copycode.gif&quot; alt=&quot;复制代码&quot; /&gt;&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;<br/>
&lt;/div&gt;<br/>
&lt;strong&gt;Conditional Operator: \)gt</strong><br/>
<div class="cnblogs_code"><br/>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div><br/>
<div>//22 &lt; age &lt; 25的<br/>
In [63]: list(table.find({&quot;age&quot;: {&quot;\(gt&quot;:22, &quot;\)lt&quot;:25}}))<br/>
Out[63]:<br/>
[{u&#39;_id&#39;: ObjectId(&#39;4c5f9d34421aa90fb9000003&#39;),<br/>
u&#39;age&#39;: 23,<br/>
u&#39;name&#39;: u&#39;shanshan3&#39;},<br/>
{u&#39;_id&#39;: ObjectId(&#39;4c5fa2ab421aa90fb9000004&#39;),<br/>
u&#39;address&#39;: u&#39;da zhong si&#39;,<br/>
u&#39;age&#39;: 23,<br/>
u&#39;name&#39;: u&#39;shanshan3&#39;}]</div><br/>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div><br/>
</div><br/>
<strong>Conditional Operator : \(in&lt;/strong&gt;<br/>
&lt;div class=&quot;cnblogs_code&quot;&gt;<br/>
&lt;div class=&quot;cnblogs_code_toolbar&quot;&gt;&lt;span class=&quot;cnblogs_code_copy&quot;&gt;&lt;a title=&quot;复制代码&quot;&gt;&lt;img src=&quot;http://common.cnblogs.com/images/copycode.gif&quot; alt=&quot;复制代码&quot; /&gt;&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;<br/>
&lt;div&gt;//name在列表[&quot;abeen&quot;,&quot;ab&quot;,&quot;b&quot;]里面的<br/>
In [67]: list(table.find({&quot;name&quot;:{&quot;\)in&quot;:[&quot;abeen&quot;,&quot;ab&quot;,&quot;b&quot;]}}))<br/>
Out[67]: [{u&#39;_id&#39;: ObjectId(&#39;4c5f9cbc421aa90fb9000000&#39;), u&#39;age&#39;: 27, u&#39;name&#39;: u&#39;abeen&#39;}]</p>

<p>//name在列表[&quot;abeen&quot;,&quot;ab&quot;,&quot;b&quot;]里面的,限制取1条数据<br/>
In [69]: list(table.find({&quot;name&quot;:{&quot;\(in&quot;:[&quot;abeen&quot;,&quot;ab&quot;,&quot;b&quot;,&quot;shanshan&quot;]}}).limit(1))<br/>
Out[69]: [{u&#39;_id&#39;: ObjectId(&#39;4c5f9cbc421aa90fb9000000&#39;), u&#39;age&#39;: 27, u&#39;name&#39;: u&#39;abeen&#39;}]&lt;/div&gt;<br/>
&lt;div class=&quot;cnblogs_code_toolbar&quot;&gt;&lt;span class=&quot;cnblogs_code_copy&quot;&gt;&lt;a title=&quot;复制代码&quot;&gt;&lt;img src=&quot;http://common.cnblogs.com/images/copycode.gif&quot; alt=&quot;复制代码&quot; /&gt;&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;<br/>
&lt;/div&gt;<br/>
&lt;strong&gt;Conditional Operator : \)nin (not in)</strong><br/>
<div class="cnblogs_code"><br/>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div><br/>
<div>//name不在列表[&quot;abeen&quot;,&quot;ab&quot;,&quot;b&quot;]里面的<br/>
In [70]: list(table.find({&quot;name&quot;:{&quot;\(nin&quot;:[&quot;abeen&quot;,&quot;ab&quot;,&quot;b&quot;]}}))<br/>
Out[70]:<br/>
[{u&#39;_id&#39;: ObjectId(&#39;4c5f9ccb421aa90fb9000001&#39;),<br/>
u&#39;age&#39;: 22,<br/>
u&#39;name&#39;: u&#39;shanshan&#39;},<br/>
{u&#39;_id&#39;: ObjectId(&#39;4c5f9d2d421aa90fb9000002&#39;),<br/>
u&#39;age&#39;: 22,<br/>
u&#39;name&#39;: u&#39;shanshan2&#39;},<br/>
{u&#39;_id&#39;: ObjectId(&#39;4c5f9d34421aa90fb9000003&#39;),<br/>
u&#39;age&#39;: 23,<br/>
u&#39;name&#39;: u&#39;shanshan3&#39;},<br/>
{u&#39;_id&#39;: ObjectId(&#39;4c5fa2ab421aa90fb9000004&#39;),<br/>
u&#39;address&#39;: u&#39;da zhong si&#39;,<br/>
u&#39;age&#39;: 23,<br/>
u&#39;name&#39;: u&#39;shanshan3&#39;}]&lt;/div&gt;<br/>
&lt;div class=&quot;cnblogs_code_toolbar&quot;&gt;&lt;span class=&quot;cnblogs_code_copy&quot;&gt;&lt;a title=&quot;复制代码&quot;&gt;&lt;img src=&quot;http://common.cnblogs.com/images/copycode.gif&quot; alt=&quot;复制代码&quot; /&gt;&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;<br/>
&lt;/div&gt;<br/>
&lt;strong&gt;Conditional Operator: \)mod</strong><br/>
<div class="cnblogs_code"><br/>
<div>// 查找age除10模等于1的<br/>
In [71]: list(table.find({&quot;age&quot;:{&quot;\(mod&quot;:[10,1]}}))&lt;/div&gt;<br/>
&lt;/div&gt;<br/>
&lt;strong&gt;Conditional Operator: \)all</strong><br/>
<div class="cnblogs_code"><br/>
<div>//取name包含所有[&quot;abeen&quot;,&quot;a&quot;,&quot;b&quot;]的信息<br/>
In [77]: list(table.find({&quot;name&quot;:{&quot;\(all&quot;:[&quot;abeen&quot;,&quot;a&quot;,&quot;b&quot;]}}))<br/>
Out[77]:<br/>
[{u&#39;_id&#39;: ObjectId(&#39;4c5facc6421aa90fb9000005&#39;),<br/>
u&#39;name&#39;: [u&#39;abeen&#39;, u&#39;a&#39;, u&#39;b&#39;, u&#39;e&#39;, u&#39;e&#39;, u&#39;n&#39;]}]&lt;/div&gt;<br/>
&lt;/div&gt;<br/>
&lt;strong&gt;Conditional Operator: \)size</strong><br/>
<div class="cnblogs_code"><br/>
<div>//取name元素数和\(size数相同的信息<br/>
In [81]: list(table.find({&quot;name&quot;:{&quot;\)size&quot;: 6}}))<br/>
Out[81]:<br/>
[{u&#39;_id&#39;: ObjectId(&#39;4c5facc6421aa90fb9000005&#39;),<br/>
u&#39;name&#39;: [u&#39;abeen&#39;, u&#39;a&#39;, u&#39;b&#39;, u&#39;e&#39;, u&#39;e&#39;, u&#39;n&#39;]}]</div><br/>
</div><br/>
<strong>Conditional Operator: \(exists&lt;/strong&gt;<br/>
&lt;div class=&quot;cnblogs_code&quot;&gt;<br/>
&lt;div class=&quot;cnblogs_code_toolbar&quot;&gt;&lt;span class=&quot;cnblogs_code_copy&quot;&gt;&lt;a title=&quot;复制代码&quot;&gt;&lt;img src=&quot;http://common.cnblogs.com/images/copycode.gif&quot; alt=&quot;复制代码&quot; /&gt;&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;<br/>
&lt;div&gt;//取name存在的信息<br/>
In [83]: list(table.find({&quot;name&quot;:{&quot;\)exists&quot;: True}}))<br/>
Out[83]:<br/>
[{u&#39;_id&#39;: ObjectId(&#39;4c5f9cbc421aa90fb9000000&#39;), u&#39;age&#39;: 27, u&#39;name&#39;: u&#39;abeen&#39;},<br/>
{u&#39;_id&#39;: ObjectId(&#39;4c5f9ccb421aa90fb9000001&#39;),<br/>
u&#39;age&#39;: 22,<br/>
u&#39;name&#39;: u&#39;shanshan&#39;},<br/>
{u&#39;_id&#39;: ObjectId(&#39;4c5f9d2d421aa90fb9000002&#39;),<br/>
u&#39;age&#39;: 22,<br/>
u&#39;name&#39;: u&#39;shanshan2&#39;},<br/>
{u&#39;_id&#39;: ObjectId(&#39;4c5f9d34421aa90fb9000003&#39;),<br/>
u&#39;age&#39;: 23,<br/>
u&#39;name&#39;: u&#39;shanshan3&#39;},<br/>
{u&#39;_id&#39;: ObjectId(&#39;4c5fa2ab421aa90fb9000004&#39;),<br/>
u&#39;address&#39;: u&#39;da zhong si&#39;,<br/>
u&#39;age&#39;: 23,<br/>
u&#39;name&#39;: u&#39;shanshan3&#39;},<br/>
{u&#39;_id&#39;: ObjectId(&#39;4c5facc6421aa90fb9000005&#39;),<br/>
u&#39;name&#39;: [u&#39;abeen&#39;, u&#39;a&#39;, u&#39;b&#39;, u&#39;e&#39;, u&#39;e&#39;, u&#39;n&#39;]}]<br/>
//取name不存在信息<br/>
In [84]: list(table.find({&quot;name&quot;:{&quot;\(exists&quot;: False}}))<br/>
Out[84]: []&lt;/div&gt;<br/>
&lt;div class=&quot;cnblogs_code_toolbar&quot;&gt;&lt;span class=&quot;cnblogs_code_copy&quot;&gt;&lt;a title=&quot;复制代码&quot;&gt;&lt;img src=&quot;http://common.cnblogs.com/images/copycode.gif&quot; alt=&quot;复制代码&quot; /&gt;&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;<br/>
&lt;/div&gt;<br/>
&lt;strong&gt;Conditional Operator: \)type</strong><br/>
<div class="cnblogs_code"><br/>
<div>//name类型为字符串的<br/>
In [88]: list(table.find({&quot;name&quot;:{&quot;$type&quot;: 2}}))</div><br/>
</div><br/>
type对应该类型表如下:</p>
<img src="http://pic002.cnblogs.com/img/abeen/201008/2010080918101542.jpg" alt="" />
<p><strong>Conditional Operator: \(or&lt;/strong&gt;<br/>
&lt;div class=&quot;cnblogs_code&quot;&gt;<br/>
&lt;div class=&quot;cnblogs_code_toolbar&quot;&gt;&lt;span class=&quot;cnblogs_code_copy&quot;&gt;&lt;a title=&quot;复制代码&quot;&gt;&lt;img src=&quot;http://common.cnblogs.com/images/copycode.gif&quot; alt=&quot;复制代码&quot; /&gt;&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;<br/>
&lt;div&gt;//查找name等于abeen或等于shanshan的信息<br/>
In [95]: list(table.find({&quot;\)or&quot; :[{&quot;name&quot;: &quot;abeen&quot;}, {&quot;name&quot;:&quot;shanshan&quot;}]}))<br/>
Out[95]: []</p>

<p>//查找age等于22,或name等于abeen或等于shanshan的信息<br/>
In [96]: list(table.find({&quot;age&quot;:22, &quot;\(or&quot; :[{&quot;name&quot;: &quot;abeen&quot;}, {&quot;name&quot;:&quot;shanshan&quot;}]}))<br/>
Out[96]: []&lt;/div&gt;<br/>
&lt;div class=&quot;cnblogs_code_toolbar&quot;&gt;&lt;span class=&quot;cnblogs_code_copy&quot;&gt;&lt;a title=&quot;复制代码&quot;&gt;&lt;img src=&quot;http://common.cnblogs.com/images/copycode.gif&quot; alt=&quot;复制代码&quot; /&gt;&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;<br/>
&lt;/div&gt;<br/>
&lt;strong&gt;Regular Expressions&lt;/strong&gt;<br/>
&lt;div class=&quot;cnblogs_code&quot;&gt;<br/>
&lt;div class=&quot;cnblogs_code_toolbar&quot;&gt;&lt;span class=&quot;cnblogs_code_copy&quot;&gt;&lt;a title=&quot;复制代码&quot;&gt;&lt;img src=&quot;http://common.cnblogs.com/images/copycode.gif&quot; alt=&quot;复制代码&quot; /&gt;&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;<br/>
&lt;div&gt;//利用正则查询<br/>
In [114]: list(table.find({&quot;name&quot;: {&quot;\)regex&quot;: r&quot;.<em>ee.</em>&quot;}}))<br/>
Out[114]:<br/>
[{u&#39;_id&#39;: ObjectId(&#39;4c5f9cbc421aa90fb9000000&#39;), u&#39;age&#39;: 27, u&#39;name&#39;: u&#39;abeen&#39;},<br/>
{u&#39;_id&#39;: ObjectId(&#39;4c5facc6421aa90fb9000005&#39;),<br/>
u&#39;name&#39;: [u&#39;abeen&#39;, u&#39;a&#39;, u&#39;b&#39;, u&#39;e&#39;, u&#39;e&#39;, u&#39;n&#39;]}]<br/>
正则表达式标记:<br/>
i: 忽略大小写。<br/>
m: 默认为单行处理，此标记表示多行。<br/>
x: 扩展。</div><br/>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div><br/>
</div><br/>
<strong>Conditional Operator: \(elemMatch&lt;/strong&gt;<br/>
&lt;div class=&quot;cnblogs_code&quot;&gt;<br/>
&lt;div&gt;In [135]: list(table.find( { &quot;age&quot; : {&quot;\)elemMatch&quot;: {&quot;name&quot;: {&quot;\(regex&quot;: r&quot;.*ee.*&quot;},<br/>
&quot;age&quot;:{&quot;\)gt&quot;:22}}}}))</div><br/>
</div><br/>
<strong>Value in an Embedded Object</strong><br/>
<div class="cnblogs_code"><br/>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div><br/>
<div>//查找内部对象信息,<br/>
//查找内部对象info的name等于abeen的信息<br/>
In [217]: list(table.find({&quot;info.name&quot;: &quot;abeen&quot;}))<br/>
Out[217]:<br/>
[{u&#39;_id&#39;: ObjectId(&#39;4c5fcd7e421aa90fb9000007&#39;),<br/>
u&#39;info&#39;: {u&#39;address&#39;: u&#39;beijing&#39;, u&#39;age&#39;: 28, u&#39;name&#39;: u&#39;abeen&#39;},<br/>
u&#39;name&#39;: u&#39;abeen_object&#39;}]</div><br/>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div><br/>
</div><br/>
<strong>Meta operator: \(not&lt;/strong&gt;<br/>
&lt;div class=&quot;cnblogs_code&quot;&gt;<br/>
&lt;div class=&quot;cnblogs_code_toolbar&quot;&gt;&lt;span class=&quot;cnblogs_code_copy&quot;&gt;&lt;a title=&quot;复制代码&quot;&gt;&lt;img src=&quot;http://common.cnblogs.com/images/copycode.gif&quot; alt=&quot;复制代码&quot; /&gt;&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;<br/>
&lt;div&gt;//查询age不在大于23的范围内的信息<br/>
In [160]: list(table.find({&quot;age&quot;: {&quot;\)not&quot;:{&quot;\(gt&quot;: 23}}}))<br/>
Out[160]:<br/>
[{u&#39;_id&#39;: ObjectId(&#39;4c5f9ccb421aa90fb9000001&#39;),<br/>
u&#39;age&#39;: 22,<br/>
u&#39;name&#39;: u&#39;shanshan&#39;},<br/>
{u&#39;_id&#39;: ObjectId(&#39;4c5f9d2d421aa90fb9000002&#39;),<br/>
u&#39;age&#39;: 22,<br/>
u&#39;name&#39;: u&#39;shanshan2&#39;},<br/>
{u&#39;_id&#39;: ObjectId(&#39;4c5f9d34421aa90fb9000003&#39;),<br/>
u&#39;age&#39;: 23,<br/>
u&#39;name&#39;: u&#39;shanshan3&#39;},<br/>
{u&#39;_id&#39;: ObjectId(&#39;4c5fa2ab421aa90fb9000004&#39;),<br/>
u&#39;address&#39;: u&#39;da zhong si&#39;,<br/>
u&#39;age&#39;: 23,<br/>
u&#39;name&#39;: u&#39;shanshan3&#39;},<br/>
{u&#39;_id&#39;: ObjectId(&#39;4c5facc6421aa90fb9000005&#39;),<br/>
u&#39;name&#39;: [u&#39;abeen&#39;, u&#39;a&#39;, u&#39;b&#39;, u&#39;e&#39;, u&#39;e&#39;, u&#39;n&#39;]}]&lt;/div&gt;<br/>
&lt;div class=&quot;cnblogs_code_toolbar&quot;&gt;&lt;span class=&quot;cnblogs_code_copy&quot;&gt;&lt;a title=&quot;复制代码&quot;&gt;&lt;img src=&quot;http://common.cnblogs.com/images/copycode.gif&quot; alt=&quot;复制代码&quot; /&gt;&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;<br/>
&lt;/div&gt;<br/>
&lt;strong&gt;Javascript Expressions and \)where</strong><br/>
<div class="cnblogs_code"><br/>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div><br/>
<div>//age大于23的<br/>
In [164]: list(table.find({&quot;age&quot;: {&quot;\(gt&quot;:23}}))<br/>
Out[164]:<br/>
[{u&#39;_id&#39;: ObjectId(&#39;4c5f9cbc421aa90fb9000000&#39;), u&#39;age&#39;: 27, u&#39;name&#39;: u&#39;abeen&#39;},<br/>
{u&#39;_id&#39;: ObjectId(&#39;4c5fae95421aa90fb9000006&#39;), u&#39;age&#39;: 25, u&#39;name&#39;: u&#39;&#39;}]<br/>
//age大于23的<br/>
In [165]: list(table.find({&quot;\)where&quot;: &quot;this.age &gt; 23&quot;}))<br/>
Out[165]:<br/>
[{u&#39;_id&#39;: ObjectId(&#39;4c5f9cbc421aa90fb9000000&#39;), u&#39;age&#39;: 27, u&#39;name&#39;: u&#39;abeen&#39;},<br/>
{u&#39;_id&#39;: ObjectId(&#39;4c5fae95421aa90fb9000006&#39;), u&#39;age&#39;: 25, u&#39;name&#39;: u&#39;&#39;}]</p>
</div>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div>
</div>
<p><strong>//skip()  limit()</strong><br/>
<div class="cnblogs_code"><br/>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div><br/>
<div>In [204]: result = table.find().skip(2).limit(3)</p>

<p>In [205]: for r in result : print r<br/>
{u&#39;age&#39;: 22, u&#39;_id&#39;: ObjectId(&#39;4c5f9d2d421aa90fb9000002&#39;), u&#39;name&#39;: u&#39;shanshan2&#39;}<br/>
{u&#39;age&#39;: 23, u&#39;_id&#39;: ObjectId(&#39;4c5f9d34421aa90fb9000003&#39;), u&#39;name&#39;: u&#39;shanshan3&#39;}<br/>
{u&#39;age&#39;: 23, u&#39;_id&#39;: ObjectId(&#39;4c5fa2ab421aa90fb9000004&#39;), u&#39;name&#39;: u&#39;shanshan3&#39;,<br/>
u&#39;address&#39;: u&#39;da zhong si&#39;}</div><br/>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div><br/>
</div><br/>
&nbsp;</p>

    </div>
    <footer class="post-footer clearfix">
      
           
      
        
    </footer>
     <div class="comments-wrap">
        <div class="share-comments">
          

          

          
        </div>
      </div><!-- end comments wrap -->
  </article>
 </div><!-- end-->



    <footer class="footer">
            <div class="container">
                <div class="site-footer-wrapper">
                        <a class="button-square" href="index.html">
<svg class="svg-inline--fa fa-home fa-w-18" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="home" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" data-fa-i2svg=""><path fill="currentColor" d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"></path></svg>
                            </a>
                        
                         
                        
                        
                        
                        <a class="button-square" href="https://github.com/showx" target="_blank" title="github">
                               <svg class="svg-inline--fa fa-github fa-w-16" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" data-fa-i2svg=""><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg><!-- <i class="fab fa-github fa-lg"></i> -->
                          </a>
                        
                        
                      
                      <a class="button-square" href="atom.xml" target="_blank" title="RSS">
                              <svg class="svg-inline--fa fa-rss fa-w-14" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="rss" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z"></path></svg><!-- <i class="fas fa-rss fa-lg"></i> -->
                      </a>

              
                       
                                                
                </div>
                <div class="site-menu-wrapper">
                  &nbsp;<span>|</span>&nbsp;
                  
                    <a target="self" class="" href="index.html">Home</a>
                    &nbsp;<span>|</span>&nbsp;
                  
                    <a target="_self" class="" href="archives.html">Archives</a>
                    &nbsp;<span>|</span>&nbsp;
                                             
                </div>

                <p class="footer-copyright">
                        Copyright &copy; 2019
                        Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
                        Theme used <a target="_blank" href="https://blog.timac.org">Timac</a>.
                </p>
            </div>
        </footer>



<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">MathJax.Hub.Config({TeX: { equationNumbers: { autoNumber: "AMS" } }});</script>

  













        
      
  
    


    </body>
</html>
